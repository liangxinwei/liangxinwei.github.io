{"meta":{"title":"æ¢æ–°ç»´","subtitle":"sometimes codeï¼Œ sometimes design","description":null,"author":"liangxinwei","url":"http://yoursite.com","root":"/"},"pages":[{"title":"å…³äºæˆ‘","date":"2019-12-29T13:14:25.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"ç®€ä»‹å‰ç«¯å·¥ç¨‹å¸ˆï¼Œåœ¨å‘å…¨æ ˆå·¥ç¨‹å¸ˆåŠªåŠ›ä¸­Â·Â·Â· è”ç³»æ–¹å¼é‚®ç®±ï¼šliangxw6004@qq.comGitHubï¼šhttps://github.com/liangxinwei"},{"title":"åˆ†ç±»","date":"2019-12-29T13:13:10.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2019-12-29T13:13:46.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"2020Flag","slug":"2020Flag","date":"2020-01-01T14:24:06.000Z","updated":"2020-01-01T14:32:42.332Z","comments":true,"path":"2020/01/01/2020Flag/","link":"","permalink":"http://yoursite.com/2020/01/01/2020Flag/","excerpt":"","text":"å·¥ä½œ Icon ç‹¬ç«‹ä¸ºé¡¹ç›®ï¼ˆReactã€Vueï¼‰å„ä¸€ä»½ã€ä¾¿äºä»£ç å¤ç”¨ DDLï¼š2020-04-30 çœ‹æŠ€æœ¯ä¹¦ç±ã€è®¾è®¡ä¹¦ç±ã€äº§å“ä¹¦ç± DDLï¼š2020-12-31 ä¸€ä¸ªæœˆä¸€æœ¬ æŠ€æœ¯ä¹¦ç±ï¼š è®¡ç®—æœºç½‘ç»œ è½¯ä»¶å·¥ç¨‹ è®¾è®¡ä¹¦ç±ï¼š å†™ç»™å¤§å®¶çœ‹çš„è®¾è®¡ä¹¦ ç®€çº¦è‡³ä¸Š dont make me think ç‚¹çŸ³æˆé‡‘ äº§å“ä¹¦ç±ï¼š ã€Šå¹•åäº§å“ã€‹ç‹è¯—æ² ã€Šæœ‰æ•ˆéœ€æ±‚åˆ†æã€‹å¾é”‹ å­¦ä¹  TypeScript å¹¶èƒ½æœ‰é…å¥—ç»ƒä¹ é¡¹ç›® DDLï¼š2020-06-30 å­¦ä¹ Node.js åå°å¹¶èƒ½æœ‰é…å¥—ç»ƒä¹ é¡¹ç›® DDLï¼š2020-12-31ï¼Œ2020-06-30 å®Œæˆ 70% å­¦ä¹ MySQLã€redisã€MongoDBå¹¶èƒ½æœ‰é…å¥—ç»ƒä¹ é¡¹ç›® DDLï¼š2020-12-31ï¼Œ2020-06-30 å®Œæˆ 70% å…¶ä»– æ­å»ºè‡ªå·±çš„GitHub Pagesåšå®¢ ç»ƒå­—ï¼Œè¾¾åˆ°å­—è¿¹ç¾è§‚å·¥æ•´ã€ç¬”åŠ›è‹åŠ² è¯»ä¸€äº›å“²å­¦æ–¹é¢çš„ä¹¦ å¥èº«ï¼Œå¹´ä¸­èƒ½æœ‰8å—è…¹è‚Œ å­¦è‹±è¯­ï¼Œå•è¯é‡20000ï¼Œä¸çœ‹å­—æ¯èƒ½å¬æ‡‚è‹±æ–‡ç”µå½± å­¦ä¹ ç†è´¢ç›¸å…³çš„çŸ¥è¯†ï¼Œå¼€å§‹é’±ç”Ÿé’±","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/categories/éšç¬”/"}],"tags":[]},{"title":"2019å¹´ç»ˆæ€»ç»“","slug":"2019å¹´ç»ˆæ€»ç»“","date":"2019-12-31T12:15:06.000Z","updated":"2020-01-01T14:31:12.226Z","comments":true,"path":"2019/12/31/2019å¹´ç»ˆæ€»ç»“/","link":"","permalink":"http://yoursite.com/2019/12/31/2019å¹´ç»ˆæ€»ç»“/","excerpt":"","text":"ä»Šå¤©æ˜¯2019å¹´12æœˆ31æ—¥ï¼Œçœ¨çœ¼é—´ï¼Œ2019å¹´è¿‡å»äº†ã€‚ æ—¶é—´æ€»æ˜¯è¿‡çš„å¾ˆå¿«ï¼Œå°¤å…¶æ˜¯èµ°å‡ºè±¡ç‰™å¡”è¿›å…¥ç¤¾ä¼šä¹‹åï¼Œåˆšæ¯•ä¸šé‚£ä¼šæ€€æ£ç€ç®€å†åˆ°å¤„é¢è¯•çš„æƒ…æ™¯ä»ç„¶è®°å¿†çŠ¹æ–°ã€‚ è¿™æ¬¡çš„å¹´ç»ˆæ€»ç»“ç®—æ˜¯2018å¹´åˆ°2019å¹´çš„æ€»ç»“ï¼Œä»æˆ‘å…¥èŒç°åœ¨çš„å…¬å¸å¼€å§‹åˆ°ç°åœ¨ï¼Œä¸æˆ‘è€Œè¨€ï¼Œç®—æ˜¯å¾ˆæœ‰æ”¶è·çš„2å¹´ã€‚ å·¥ä½œä¸Šè¿™åº”è¯¥æ˜¯æŒ‘æˆ˜ä¸æœºé‡å¹¶å­˜çš„2å¹´ï¼Œä¹‹å‰çš„å·¥ä½œä¸­ï¼Œæˆ‘ä¸€ç›´æ˜¯åªè´Ÿè´£æŸä¸€éƒ¨åˆ†å…·ä½“çš„ä¸šåŠ¡ï¼Œå…¥èŒä¹‹åï¼Œåˆšå¼€å§‹æ˜¯å†™Cç«¯å°ç¨‹åºã€H5æ´»åŠ¨é¡µé¢ï¼Œç„¶åé€æ­¥è´Ÿè´£å…¬å¸æ•´ä¸ªBç«¯ç›¸å…³ç³»ç»Ÿçš„å‰ç«¯æ–¹é¢çš„å·¥ä½œï¼ŒæœŸé—´é‡åˆ°è¿‡å›°éš¾ã€ç»å†è¿‡æŒ‘æˆ˜ã€‚åˆšæ¥æ‰‹Bç«¯ç³»ç»Ÿçš„æ—¶å€™ï¼Œå‰åŒäº‹å†™çš„æ¯”è¾ƒéšæ„ï¼Œä»£ç æ ¼å¼å„ä¸ä¸€æ ·ï¼Œç»´æŠ¤èµ·æ¥å¾ˆåƒåŠ›ï¼Œä¸è¿‡è¿˜å¥½é‚£ä¼šä¸šåŠ¡ä¸ç®—å¾ˆå¿™ï¼Œæ€»ç®—æŠ½å‡ºæ—¶é—´é‡æ„äº†æœ€æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†é€»è¾‘ï¼Œå¹¶ä¸”å°†æ‰“åŒ…æ—¶é—´ä»ä¹‹å‰çš„ææ€–çš„åŠ¨è¾„20-30minç¼©çŸ­åˆ°2minä¹‹å†…ï¼Œå°†webpackç‰ˆæœ¬æ€§èƒ½3å‡çº§åˆ°4ï¼Œä¸ºæ­¤é¢†å¯¼ç‰¹æ„è¯·æˆ‘å–äº†ä¸€å‘¨çš„â˜•ï¸ï¼Œä¸ªäººæ„Ÿè§‰è¿˜æ˜¯æŒºæœ‰æˆå°±æ„Ÿçš„ä¸€ä»¶äº‹ã€‚ å›¢é˜Ÿä¸­ä¹Ÿæœ‰äº†æ–°é²œçš„è¡€æ¶²ï¼Œä¸åŒåŒäº‹ä¹‹é—´çš„ä»£ç é£æ ¼å„ä¸ä¸€æ ·ï¼Œå¦‚ä½•ä¿è¯ä»£ç è´¨é‡å°±æˆäº†å¿…é¡»è¦è€ƒè™‘çš„ä¸€ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å•†è®¨äº†ä¸€ä»½å†…éƒ¨ä½¿ç”¨çš„ ESLint è§„åˆ™ï¼Œä»¥åŠcode reviewï¼Œæœ‰åˆ©äºä»¥åçš„ç»´æŠ¤ã€‚ å…¬å¸æ‰©å¼ ä¹‹åï¼Œç›¸åº”çš„ï¼Œä¸šåŠ¡ä¹Ÿéšä¹‹è€Œæ¥ï¼ŒæœŸé—´å’Œå¦ä¸€ä½åŒäº‹ï¼ˆå¤§ç¥ï¼‰é…åˆæ­å»ºèµ·äº†é’ˆå¯¹çº¿ä¸‹å„ä¸ªé—¨åº—çš„è§†é¢‘ç›‘æ§ç³»ç»Ÿã€‚ç¬¬ä¸€æ¬¡æ¶‰è¶³è§†é¢‘é¢†åŸŸï¼Œæ„Ÿè§‰æŒºä¸é”™ã€‚ å·¥ä½œå¤–å›´éšç€å…¬å¸çš„æ‰©å¼ ï¼Œéšä¹‹è€Œæ¥çš„æ‹›äººå’Œå¸¦æ–°äººå°±æˆäº†æˆ‘å·¥ä½œä¹‹ä½™çš„å¦ä¸€ä»¶äº‹ï¼Œæ…¢æ…¢çš„å­¦ä¼šäº†æ€ä¹ˆæ ·é¢è¯•åˆ«äººï¼Œåœ¨è¿™é‡Œç‰¹åˆ«æ„Ÿè°¢æˆ‘çš„é¢†å¯¼ï¼Œæ€»æ˜¯åœ¨æ°å½“çš„æ—¶é—´çš„æç‚¹æˆ‘ï¼Œä»¤æˆ‘æ„Ÿè§‰æˆé•¿äº†å¾ˆå¤šï¼Œè·ç›Šè‰¯å¤šã€‚ å¦å¤–ï¼Œå¾—ç›Šäºç”¨æˆ·å¯¹ç§»åŠ¨ç«¯åŠå…¬çš„è¿«åˆ‡éœ€æ±‚å’Œå°ç¨‹åºçš„æ€¥é€Ÿå‘å±•ï¼Œå…¬å¸çš„Bç«¯ç³»ç»Ÿä¹ŸåŒæ­¥åˆ°äº†å°ç¨‹åºä¸Šï¼Œæˆ‘ä½œä¸ºå”¯ä¸€çš„å¼€å‘äººå‘˜ã€æµ‹è¯•äººå‘˜ã€äº§å“äººå‘˜ã€UIï¼Œä»ç”³è¯·å°ç¨‹åºåˆ°ä¸Šçº¿ç¬¬ä¸€ç‰ˆä»¥åŠä¹‹åçš„ç‰ˆæœ¬è¿­ä»£ï¼ŒæœŸé—´æœªå‡ºç°è¿‡é‡å¤§BUGï¼Œè¢«é¢†å¯¼ç§°åšã€Œå…¨å¹²å·¥ç¨‹å¸ˆã€ğŸ˜“ã€‚è¿™æ ·çš„ç»å†ä¹Ÿè®©æˆ‘å¯¹å‰ç«¯å¼€å‘æœ‰äº†æ›´æ·±ä¸€æ­¥çš„è®¤è¯†ä¸ç†è§£ï¼Œä½œä¸ºæœ€æ¥è¿‘ç”¨æˆ·çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬åº”è¯¥æ—¶åˆ»ç«™åœ¨ç”¨æˆ·çš„è§’åº¦æ€è€ƒæ€ä¹ˆæ ·èƒ½è®©æ‰€å¼€å‘çš„äº§å“æ›´æ˜“ç”¨ã€æ›´ç®€æ´ã€äº¤äº’æ›´åˆç†ã€æ“ä½œæ›´ç®€å•ï¼Œå¹¶ä¸”åœ¨äº§å“ä¸Šçº¿ä¹‹åä¸»åŠ¨äº†è§£ç”¨æˆ·çš„åé¦ˆï¼Œå¹¶é’ˆå¯¹åé¦ˆåšç›¸åº”çš„æ”¹è¿›ï¼Œç„¶åå†ä¸Šçº¿ã€è·Ÿè¸ªåé¦ˆã€ä¼˜åŒ–ï¼Œè¾¾åˆ°æ•´ä¸ªæµç¨‹çš„é—­ç¯ã€‚è¿™ç§ä¸€ä¸ªäººè´Ÿè´£æ‰€æœ‰çš„äº‹æƒ…å¯¹æˆ‘è™½ç„¶æ˜¯ç¬¬ä¸€æ¬¡ï¼Œä½†æ˜¯å¼€å‘è¿‡ç¨‹ä¸­ä¸‹æ„è¯†çš„æ€è€ƒUIã€äº§å“ï¼Œå¼€å‘å®Œçš„æµ‹è¯•ï¼Œä¸Šçº¿ä¹‹åçš„è·Ÿè¸ªåé¦ˆï¼Œè®©æˆ‘è€³ç›®ä¸€æ–°ï¼ŒåŸæ¥å‰ç«¯å¼€å‘äººå‘˜è¿˜å¯ä»¥è¿™æ ·ï¼Œä¸ºæ­¤è¿˜ç‰¹æ„ä¹°äº†è®¾è®¡ç›¸å…³çš„ä¹¦ç±ã€Bç«¯äº§å“ç›¸å…³çš„ä¹¦ç±ï¼Œè¾¹çœ‹ä¹¦è¾¹å¼€å‘ï¼Œç¾ç¾å“’ã€‚ å‰ç«¯å›¢é˜Ÿæˆé•¿æ–¹é¢ï¼Œæˆ‘ç»„ç»‡å…¬å¸çš„å‰ç«¯åŒäº‹æ­å»ºèµ·äº†å‰ç«¯å›¢é˜Ÿçš„è‡ªæˆ‘æˆé•¿ä½“ç³»ï¼Œå¹¶ä»˜è¯¸äºè¡ŒåŠ¨ï¼Œæ¯å‘¨ï¼ˆæœ€é•¿ä¸è¶…è¿‡2å‘¨ï¼‰å¼€ä¸€æ¬¡å‰ç«¯åˆ†äº«ï¼ˆäº¤æµï¼‰ä¼šï¼ŒåŒ…æ‹¬å¹¶ä¸é™äºJavaScriptã€CSSã€Reactã€Vueã€äº§å“ã€è®¾è®¡ç›¸å…³ï¼Œç›¸äº’ç£ä¿ƒå­¦ä¹ ï¼Œå¹¶å®è·µä¸å…¬å¸çš„é¡¹ç›®ä¸­ã€‚ä»¥ç›®å‰çš„åé¦ˆæ¥çœ‹ï¼Œæ•ˆæœæŒºå¥½ã€‚é€šè¿‡å­¦ä¹ ï¼Œæˆ‘ç›¸ä¿¡ä¸åªæ˜¯æˆ‘ï¼Œå›¢é˜Ÿä¸­çš„ä»»ä½•ä¸€ä½åŒäº‹ï¼Œéƒ½ä¼šåœ¨å„ä¸ªæ–¹é¢éƒ½æœ‰æ‰€æˆé•¿ã€‚ æƒ…æ„Ÿä¸Šä»Šå¹´é¡ºåˆ©æ”¶è·å¥³æœ‹å‹ä¸€æšï¼Œå·¥ä½œä¹Ÿæœ‰äº†æ›´å¤§çš„åŠ¨åŠ›ã€‚æƒ³ç»™å¥¹æ›´å¥½çš„ç”Ÿæ´»ï¼Œå°±å¾—æ›´åŠªåŠ›èµšé’±ï¼ŒåŠªåŠ›å·¥ä½œï¼ŒåŠªåŠ›å­¦ä¹ ï¼Œä¸€ç›´æˆé•¿ã€‚æˆ‘ä¸€ç›´è§‰å¾—ï¼Œæ‰€æœ‰äº‹æƒ…åœ¨ç¨‹åºå‘˜çœ¼é‡Œéƒ½æ˜¯å¯é‡åŒ–çš„ç›®æ ‡ï¼Œåªè¦ç„å‡†ç›®æ ‡å¹¶å¯¹ç—‡ä¸‹è¯ï¼Œç”­ç®¡æ˜¯å¥³ç¥è¿˜æ˜¯ä»€ä¹ˆï¼Œæœ€åéƒ½å¾—æŸæ‰‹å°±æ“’ã€‚ å…¶ä»–æœ€è¿‘å› ä¸ºä¸€äº›åŸå› ï¼Œå…¬å¸ä¹Ÿå¼€å§‹äº†ä¼ è¯´ä¸­çš„å†…éƒ¨ä¼˜åŒ–ï¼Œè™½ç„¶æ²¡æœ‰æ³¢åŠåˆ°ç ”å‘éƒ¨é—¨ï¼Œä½†æ˜¯æ—¥æ¸ç©ºé˜”çš„åŠå…¬å®¤è¿˜æ˜¯å®æ—¶æé†’ç€æˆ‘ï¼Œå‡›å†¬å°†è‡³ï¼Œè¿™æ›´è®©æˆ‘è§‰å¾—æå‡è‡ªå·±çš„èƒ½åŠ›æ‰æ˜¯æœ€é‡è¦çš„ï¼Œåœ¨è¿™é‡Œå‘Šè¯«å¤§å®¶ï¼Œä¸€å®šè¦æœ‰å±æœºæ„è¯†ï¼Œå±…å®‰æ€å±ã€‚ 2020å¹´ç›®æ ‡æ˜å¤©åˆæ˜¯æ–°çš„ä¸€å¹´ï¼Œåœ¨è¿™é‡Œç«‹å‡ ä¸ªå°ç›®æ ‡ï¼š å‰ç«¯æŠ€æœ¯æ–¹é¢æœ‰å¤§çš„çªç ´ï¼ˆå¤šé˜…è¯»æºç ï¼‰ å­¦ä¹ Node.jsã€MongoDBã€MySQLï¼Œå¹¶èƒ½æœ‰ç›¸åº”çš„åå°ç»ƒä¹ é¡¹ç›® å­¦ä¹ äº§å“ç›¸å…³çš„çŸ¥è¯† å­¦ä¹ ç†è´¢ç›¸å…³çš„çŸ¥è¯†ï¼Œå¼€å§‹é’±ç”Ÿé’± å¥èº«ï¼Œå¹´ä¸­èƒ½æœ‰8å—è…¹è‚Œ ç»ƒå­—ï¼Œè¾¾åˆ°å­—è¿¹ç¾è§‚å·¥æ•´ã€ç¬”åŠ›è‹åŠ² å­¦ä¹ è‹±è¯­ï¼Œå•è¯é‡èƒ½è¾¾åˆ°20000ï¼Œæ…¢è‹±è¯­èƒ½å¬æ‡‚ æœ€åæƒ³è¯´ç°åœ¨çœ‹æ¥ï¼Œé‚£ä»¶äº‹ï¼ˆå‰ç«¯å›¢é˜Ÿçš„è‡ªæˆ‘æˆé•¿ä½“ç³»ï¼‰åˆ°ç°åœ¨æ‰è¿è¡Œèµ·æ¥ï¼Œå¸¦ç»™æˆ‘çš„æ•™è®­ï¼šè¦åšæˆä¸€ä»¶çœ‹èµ·æ¥å¾ˆéš¾çš„äº‹ï¼Œåªæ˜¯ç¼ºä¹ç«‹å³å»åšçš„å†³å¿ƒï¼Œå’ŒåšæŒä¸‹å»çš„æ’å¿ƒï¼Œä»…æ­¤è€Œå·²ã€‚ ä»Šå¹´å¯¹è‡ªå·±æ•´ä½“çš„è¯„ä»·ï¼šæŠ€æœ¯æ–¹é¢ï¼ŒåˆšåŠæ ¼ï¼Œä¸»è¦æ˜¯ä¸šåŠ¡å¤ªç¹å¿™ï¼Œåˆåˆšäº¤å¥³æœ‹å‹ï¼Œå­¦ä¹ çš„æ—¶é—´å¤ªå°‘ï¼Œå…¶ä»–æ–¹é¢ï¼Œæ¯”å¦‚UIæ„è¯†ã€äº§å“æ„è¯†ç­‰ç­‰ï¼Œè¿˜ç®—æ˜¯æ¯”è¾ƒæ»¡æ„ï¼Œä¸å†ä»…ä»…æ˜¯å‰ç«¯å¼€å‘ï¼Œçœ¼ç•Œå¼€é˜”äº†ä¸å°‘ï¼Œä¸šä½™è¿˜çœ‹äº†ä¸€äº›ç†è´¢æ–¹é¢çš„ä¹¦ç±ï¼Œæ‰“ç®—æ¥å¹´ç»§ç»­å­¦ä¹ ã€‚ 2020å¹´ï¼Œ29å²äº†ï¼Œå¸Œæœ›èƒ½æœ‰æ›´å¥½çš„æˆé•¿ã€‚","categories":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"http://yoursite.com/categories/éšç¬”/"}],"tags":[]},{"title":"Bç«¯äº§å“ç»ç†é•¿æˆè¯»ä¹¦ç¬”è®°","slug":"Bç«¯äº§å“ç»ç†é•¿æˆè¯»ä¹¦ç¬”è®°","date":"2019-09-12T14:51:34.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2019/09/12/Bç«¯äº§å“ç»ç†é•¿æˆè¯»ä¹¦ç¬”è®°/","link":"","permalink":"http://yoursite.com/2019/09/12/Bç«¯äº§å“ç»ç†é•¿æˆè¯»ä¹¦ç¬”è®°/","excerpt":"","text":"PMBOKï¼šé¡¹ç›®ç®¡ç†çŸ¥è¯†ä½“ç³» Project Management Body Of Knowledge äº§å“çš„è§„åˆ™è®¾è®¡ï¼š1ã€ç²¾ç¥ç†å¿µï¼šä»€ä¹ˆæœ€é‡è¦2ã€ç›®æ ‡ï¼šäº§å“è¦è¾¾æˆä»€ä¹ˆç›®æ ‡3ã€è°æ›´é‡è¦ï¼šå¤šæ–¹å†²çªæ—¶ä¿æŠ¤è°4ã€é¼“åŠ±ä»€ä¹ˆï¼šä»€ä¹ˆäº‹å†äº§å“ä¸­ä¼šå—åˆ°è®¤å¯å’Œæ¿€åŠ±5ã€æ‹’ç»ä»€ä¹ˆï¼šä»€ä¹ˆäº‹ä¸èƒ½åœ¨äº§å“ä¸­åšï¼Ÿç¦æ­¢å’Œæƒ©ç½šä»€ä¹ˆï¼Ÿ æ–¹æ¡ˆå‡ºé”™ï¼Œ90%æ˜¯é—®é¢˜å‡ºé”™äº†é—®é¢˜-æ‹†è§£-æ–¹æ¡ˆ-ç»“è®º åŸåˆ™1ã€å®šä¹‰é—®é¢˜ï¼Œ2ã€æ‹†è§£é—®é¢˜ï¼Œ3ã€å¯¼å‡ºæ–¹æ¡ˆï¼Œ4ã€è¯„ä¼°å¾—å‡ºç»“è®º æ›´é«˜çš„æ—¶é—´å’Œè¡ŒåŠ¨æˆæœ¬ä¼šæ‹‰ä½ç”¨æˆ·å¯¹äº§å“çš„éœ€æ±‚ RFMæ¨¡å‹RFMæ˜¯æœ€ç»å…¸çš„å®¢æˆ·æ¶ˆè´¹è¡Œä¸ºç‰¹å¾åˆ†ææ¨¡å‹ï¼ŒRFMä»£è¡¨Recencyï¼ˆæœ€è¿‘ä¸€æ¬¡æ¶ˆè´¹æ—¶é—´ï¼‰ï¼ŒFrequencyï¼ˆæŸä¸€ä¸ªæ—¶é—´èŒƒå›´å†…çš„æ¶ˆè´¹é¢‘æ¬¡ï¼‰ï¼ŒMonetaryï¼ˆæŸä¸€ä¸ªæ—¶é—´èŒƒå›´å†…çš„å¹³å‡å®¢å•ä»·æˆ–ç´¯è®¡äº¤æ˜“é¢ï¼‰ã€‚æ ¹æ®å…¬å¸å®é™…æ•°æ®æƒ…å†µï¼Œå°†è¿™ä¸‰ä¸ªæŒ‡æ ‡åˆ’åˆ†æˆå‡ æ¡£ï¼Œå¯ä»¥å½¢æˆå¤šç§ç»„åˆï¼ˆå‡è®¾æ¯ä¸ªæŒ‡æ ‡åˆ†äº”æ¡£ï¼Œåˆ™å¯äº§ç”Ÿ5x5x5ä¸ªç»„åˆï¼‰ï¼Œå¯¹è¿™äº›ç»„åˆè¿›è¡Œèšç±»åˆ†æï¼Œæç‚¼å‡ºè¡Œä¸ºæ¨¡å¼ç±»ä¼¼çš„å¤šä¸ªç¾¤ä½“ï¼Œå®ç°å¯¹å®¢æˆ·æ¶ˆè´¹ç‰¹å¾çš„ç¾¤ä½“ç»†åˆ†ã€‚ æ•°æ®é›†å¸‚ DM Data Martæ•°æ®ä»“åº“ DW Data WarehouseBI Business Intelligence æ•°æ®ä»“åº“å’Œå¤§æ•°æ®æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„æ¦‚å¿µ,å®ƒä»¬åœ¨ç†å¿µã€æŠ€æœ¯æ–¹æ¡ˆã€åº”ç”¨é¢†åŸŸæ–¹é¢éƒ½å®Œå…¨ä¸åŒ,å…·ä½“å¦‚ä¸‹ã€‚Â·ç†å¿µ:æ•°æ®ä»“åº“æºäºäº¤æ˜“æ•°æ®,å¯¹æ•°æ®çš„å‡†ç¡®æ€§è¦æ±‚é«˜,é€‚åˆåšç¦»çº¿åˆ†æ;å¤§æ•°æ®æºäºæ—¥å¿—çš„è¡Œä¸ºæ•°æ®,å¯¹æ•°æ®å‡†ç¡®æ€§è¦æ±‚ä¸é«˜,é€‚åˆåšè‡ªåŠ¨åŒ–ç­–ç•¥ã€‚æŠ€æœ¯æ–¹æ¡ˆ:æ•°æ®ä»“åº“é‡‡ç”¨ä¼ ç»Ÿçš„ã€ç»å…¸çš„æ•°æ®åˆ†ææ€è·¯,å³æŠ½æ ·ã€åˆ†æã€é¢„æµ‹;å¤§æ•°æ®åŸºäºæµ·é‡æ•°æ®å’Œè¿ç®—èƒ½åŠ›,ä¸åšæŠ½æ ·è€Œåšå…¨é‡ç ”ç©¶,ä¸åšåˆ†æè€Œåšæ¨¡å‹åº”ç”¨ã€‚åº”ç”¨é¢†åŸŸ:æ•°æ®ä»“åº“ä¸»è¦ç”¨æ¥åšä¼ä¸šç»è¥åˆ†æ;å¤§æ•°æ®ä¸»è¦ç”¨æ¥åšå„ç§ä¸šåŠ¡è‡ªåŠ¨åŒ–åº”ç”¨ã€‚","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"http://yoursite.com/categories/è¯»ä¹¦ç¬”è®°/"}],"tags":[]},{"title":"ä¹è´¥ä¸€èƒœè¯»ä¹¦ç¬”è®°","slug":"ä¹è´¥ä¸€èƒœè¯»ä¹¦ç¬”è®°","date":"2019-08-19T14:02:58.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2019/08/19/ä¹è´¥ä¸€èƒœè¯»ä¹¦ç¬”è®°/","link":"","permalink":"http://yoursite.com/2019/08/19/ä¹è´¥ä¸€èƒœè¯»ä¹¦ç¬”è®°/","excerpt":"","text":"è·å–çš„é•¿æœŸç»éªŒä¸æ˜¯æœ€é‡è¦çš„ï¼Œå¿«é€Ÿå­¦ä¹ èƒ½åŠ›æ˜¯å†³å®šä¸€ä¸ªäººå‘å±•ç°çŠ¶åŠæœªæ¥å‰æ™¯çš„é‡è¦å› ç´ ã€‚ æ€»é‡å¥‘çº¦ç²¾ç¥ï¼Œæ€»é‡å¤§å®¶å…±åŒåˆ¶è®¢å¥½çš„æ¸¸æˆè§„åˆ™ï¼Œæ²¡æœ‰è¿™ä¸ªï¼Œåˆ›ä¸šå°±æ— ä»è°ˆèµ·ã€‚ CEOä¸å¯è¢«äººä»£æ›¿çš„æŒ‡è´£æ˜¯ï¼šè®¾è®¡å…¬å¸æ•´ä½“æ„¿æ™¯å’Œæ‰€æœ‰æˆ˜ç•¥ï¼Œç¡®ä¿ä¼ è¾¾ç»™æ‰€æœ‰åˆ©ç›Šç›¸å…³æ–¹ï¼Œä¸ä»…æ˜¯ç®¡ç†å±‚ï¼ŒåŒ…æ‹¬æ‰€æœ‰å‘˜å·¥ï¼Œä¸ä»…æ˜¯å…¬å¸å†…éƒ¨äººï¼ŒåŒ…æ‹¬è‚¡ä¸œã€æ¶ˆè´¹è€…ã€å•†æˆ·å’Œæ‰€æœ‰åˆä½œä¼™ä¼´ï¼›æ‹›åˆ°å¹¶ç•™ä½æœ€ä¼˜ç§€çš„äººï¼›ç¡®ä¿å…¬å¸è¦æœ‰è¶³å¤Ÿçš„èµ„é‡‘ã€‚ ä»¥èº«ä½œåˆ™ä¸æ˜¯å¡‘é€ å…¬å¸ä»·å€¼è§‚çš„æœ€å¥½åŠæ³•ï¼Œè€Œæ˜¯å”¯ä¸€åŠæ³•ã€‚ æŠŠæ‰€æœ‰ä¸œè¥¿è€ƒè™‘æ¸…æ¥šå†å»è®¨è®ºèƒ½ä¸èƒ½åšã€‚ 2004-2009æ ¡å†…ç½‘ç»™ä»–ä»¬çš„ç»éªŒå’Œæ•™è®­ï¼š åˆ›ä¸šå›¢é˜Ÿå¿…é¡»åˆ†å·¥æ˜ç¡®ï¼ŒCEOå¿…é¡»è§£æ”¾å‡ºæ¥ï¼Œå…³æ³¨æ•´ä¸ªä¸šç•Œã€æ—¶ä»£ã€ç¤¾ä¼šå‘å±•çš„æ½®æµã€‚ å¿«é€Ÿæ¨å¹¿å¾ˆé‡è¦ã€‚ æ²¡æœ‰ç›²ç›®åœ°è‡ªæˆ‘åˆ›æ–°ï¼Œå¿«é€Ÿå­¦ä¹ åˆ«äººçš„ä¼˜ç‚¹ã€‚æ¯”å¦‚æ¨¡ä»¿Facebookï¼Œåœ¨èŠ‚çœæˆæœ¬çš„åŒæ—¶ï¼Œè®©ç”¨æˆ·æœ‰äº†å½“æ—¶ä¸€æµçš„UIä½“éªŒã€‚ å¯¹èµ„æœ¬çš„çœ‹æ³•å¤ªè¿‡ç†æƒ³åŒ–äº†ã€‚åº”è¯¥æ›´æ—©çš„æ¥è§¦èµ„æœ¬ï¼Œé™ä½å§¿æ€ï¼Œåšä¸€äº›å¦¥åã€‚ å¿…é¡»å’Œä¿¡ä»»çš„äººä¸€èµ·åˆ›ä¸šã€‚å”¯æœ‰ä¿¡ä»»æ‰èƒ½åœ¨é‡åˆ°ä½æ½®çš„æƒ…å†µä¸‹è®©å›¢é˜Ÿä¾æ—§åšæŒç¨³å›ºã€‚ O2O çº¿ä¸Šçº¿ä¸‹ï¼šçº¿ä¸Šäº¤æ˜“ï¼Œçº¿ä¸‹æ¶ˆè´¹ ä¿æŒå¯¹æœªçŸ¥çš„ä¸–ç•Œå……æ»¡å¥½å¥‡ï¼Œå…ˆæŠŠæ›´å¤šçš„ä¼šæ”¾è¿›è‡ªå·±çš„è§†ï¼Œæ‰æœ‰æŠ‰æ‹©çš„ä½™åœ°ã€‚ å¯¹äºç¤¾ä¼šèƒ½äº§ç”ŸçœŸå®ä»·å€¼çš„ä¸œè¥¿ï¼Œæ˜¯äº‹ä¸šæœ€ç¨³å®šçš„åŸºçŸ³ã€‚ä¸ç®¡è¿™ç§ä¸œè¥¿æ˜¯è§£å†³äººä¸äººçš„å…³ç³»ï¼Œè¿˜æ˜¯è§£å†³äººä¸ç‰©çš„å…³ç³»ã€‚ äº’è”ç½‘æ—¶ä»£æ˜¯â€äº§å“ä¸ºç‹â€çš„æ—¶ä»£ï¼Œæ˜¯å®Œç¾ä¸»ä¹‰è€…æœ‰ç€ç³»ç»Ÿæ€§ä¼˜åŠ¿çš„æ—¶ä»£ã€‚åªæœ‰å®Œç¾ä¸»ä¹‰çš„äººï¼Œæ‰èƒ½æŠŠäº§å“æ‰“ç£¨çš„é‚£ä¹ˆå‡ºè‰²ï¼Œäº§å“å‡ºè‰²ï¼Œæ•´ä¸ªå…¬å¸å°±èµ¢äº†ã€‚ ä»»ä½•ä¸€ä¸ªéƒ¨é—¨ï¼Œä¸€å¹´åªè¦åšå¯¹ä¸€ä»¶äº‹å°±èƒ½è·å¾—æˆåŠŸ æ‹›è˜è¿›æ¥çš„äººçš„æ°´å‡†åº”è¯¥æ¯”ç°æœ‰å›¢é˜Ÿ50%çš„äººé«˜ï¼Œæ•´ä¸ªå›¢é˜Ÿæ‰ä¼šè¶Šæ¥è¶Šå¼º å¯¹æœªæ¥è¶Šæœ‰ä¿¡å¿ƒï¼Œå¯¹ç°åœ¨è¶Šæœ‰è€å¿ƒã€‚ ä¸€å®¶è€æœ‰æ–°é—»çš„ä¼ä¸šå¹¶éå¥½äº‹ï¼Œåœ¨é‚£äº›æ¯ç‡¥ï¼Œå¹³å‡¡çš„æ—¥å¸¸ç®¡ç†ç»†èŠ‚é‡Œï¼Œæ¯å¤©å‰è¿›ä¸€ç‚¹ï¼Œæ—¥ç§¯æœˆç´¯ï¼ŒçŸ­æœŸå†…çœ‹ä¸å‡ºå…¬å¸å‘ç”Ÿäº†å¤šå°‘å˜åŒ–ï¼ŒæŠŠè§‚å¯Ÿæ—¶é—´æ”¾é•¿ä¸€ç‚¹ï¼Œä¸‰äº”å¹´ï¼Œä½ å°±ä¼šå‘ç°è¿™å®¶å…¬å¸å¯èƒ½å·²ç»è„±èƒæ¢éª¨äº†ã€‚è¿™åŒæ ·é€‚ç”¨äºæ¯ä¸ªäººã€‚ æœªæ¥æ˜¯ä¸ç¡®å®šçš„ï¼Œåªèƒ½æˆ˜æˆ˜å…¢å…¢ï¼Œå¦‚å±¥è–„å†°ã€‚ ä¸€å¦‚æ—¢å¾€çš„å¥½å¥‡å¿ƒï¼Œè¶…å¼ºçš„å­¦ä¹ èƒ½åŠ›ã€‚ å…è´¹çš„æ ¹æœ¬é—®é¢˜åœ¨äºçœŸæ­£çš„å…è´¹å¦‚ä½•ç›ˆåˆ©ã€‚ æƒ³è¦æ„å»ºäº§å“å£å’ï¼Œå°±æœ€å¥½åšè‡ªå·±æ“…é•¿çš„éƒ¨åˆ†ã€‚ æ— æ•°å¹³åº¸çš„ç»†èŠ‚å †ç§¯å‡ºæ¥çš„ï¼Œå°±æ˜¯å¹³åº¸çš„äº§å“ã€‚ å¦‚æœä½ å¸Œæœ›åœ¨ä¸€ä¸ªå¥½çš„åˆ›ä¸šå…¬å¸ä¸€è·¯é«˜æ­ŒçŒ›è¿›çš„è¯ï¼Œæ¯ä¸€å¹´éƒ½æ˜¯å…³é”®çš„ä¸€å¹´ã€‚ å°å…¬å¸åšèµ·æ¥çš„å…³é”®æ˜¯æŠ“ä½äº†ä¸€ä¸ªæœºä¼šï¼Œä¸­ç­‰å…¬å¸çš„å…³é”®æ˜¯æœ‰ä¸€æ‰¹æ¯”è¾ƒå¼ºçš„é«˜ç®¡ï¼Œå¤§å…¬å¸çš„å…³é”®æ˜¯è¦æœ‰æ­£ç¡®çš„æµç¨‹å’Œä»·å€¼è§‚ã€‚ ä¼ä¸šåˆ›å§‹äººçš„ä»·å€¼è§‚å†³å®šæ•´ä¸ªä¼ä¸šå…¶ä»–äººå¯¹å¾…æ•´ä¸ªå¸‚åœºçš„æ–¹å¼ã€‚ç¾å›¢ç½‘ä»·å€¼è§‚çš„æ’åºæ˜¯ï¼šæ¶ˆè´¹è€…ç¬¬ä¸€ã€å•†å®¶ç¬¬äºŒã€å‘˜å·¥ç¬¬ä¸‰ã€è‚¡ä¸œç¬¬å››ã€ç‹å…´ç¬¬äº”ã€‚ æ ¸å¿ƒä»·å€¼è§‚çš„æ¸—é€åº¦è¶Šé«˜ï¼Œæ•´ä¸ªä¼ä¸šçš„äººå‘˜ç¨³å®šæ€§æ‰è¶Šå¼ºã€‚å…¬å¸çš„ä½¿å‘½ã€æ„¿æ™¯ã€ä»·å€¼è§‚ï¼Œè¿™äº›çœ‹èµ·æ¥æ˜¯è™šæ— ç¼¥ç¼ˆçš„ä¸œè¥¿ï¼Œç¡®æ˜¯å›¢é˜Ÿç²¾ç¥ç”Ÿé•¿çš„åšå®åœŸåœ°ã€‚ CEOå±¥è¡Œå¥½è‡ªå·±çš„æŒ‡è´£ï¼Œå…¶ä»–äº‹æƒ…éƒ½åº”è¯¥æ‰¾æœ€ä¸“ä¸šã€æœ€å¥½çš„äººæ¥åšã€‚ å›¢é˜Ÿçš„ç»„ä»¶åŸåˆ™ï¼šæ‹›è¿›æ¥çš„äººï¼Œæ°´å‡†åº”è¯¥æ¯”ç°æœ‰å›¢é˜Ÿ50%çš„äººé«˜ã€‚åªè¦æŒ‰ç…§è¿™ä¸ªæ ‡å‡†ï¼Œæ•´ä¸ªå›¢é˜Ÿä¼šè¶Šæ¥è¶Šå¼ºã€‚ å…¬å¸è¶Šæ¥è¶Šå¤§ï¼Œä¸ºäº†ä¿éšœå…¬å¸çš„æ­£å¸¸è¿è½¬ï¼Œéœ€è¦ä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„ç»„ç»‡æ¶æ„å’Œä¸¥å¯†çš„æµç¨‹ã€‚ç³»ç»Ÿå’Œæµç¨‹ä¿éšœäº†åˆ†å·¥æ˜ç¡®ã€æƒè´£åˆ°ä½ï¼Œä¸æ˜“å‡ºå·®é”™ï¼›å¦ä¸€æ–¹é¢å´è®©è·¨éƒ¨é—¨åˆä½œå˜å¾—è¶Šæ¥è¶Šå›°éš¾ï¼Œæ•ˆç‡åœ¨æ²Ÿé€šä¸­æŸè€—ï¼Œåˆ›æ–°çš„çƒ­æƒ…å’Œæœºä¼šå°±æœ‰å¯èƒ½åœ¨è¿™äº›æŸè€—ä¸­æºœæ‰ã€‚","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"http://yoursite.com/categories/è¯»ä¹¦ç¬”è®°/"}],"tags":[]},{"title":"roadhog 1.3.X æ‰“åŒ…æ…¢çš„è§£å†³åŠæ³•","slug":"roadhog-1-3-X-æ‰“åŒ…æ…¢çš„è§£å†³åŠæ³•","date":"2019-06-11T11:01:51.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2019/06/11/roadhog-1-3-X-æ‰“åŒ…æ…¢çš„è§£å†³åŠæ³•/","link":"","permalink":"http://yoursite.com/2019/06/11/roadhog-1-3-X-æ‰“åŒ…æ…¢çš„è§£å†³åŠæ³•/","excerpt":"","text":"èƒŒæ™¯ï¼šå…¬å¸çš„åå°ç®¡ç†ç³»ç»Ÿé¡¹ç›®åŸºäº Antd Pro æ—©æœŸç‰ˆæœ¬ï¼Œä½¿ç”¨çš„è„šæ‰‹æ¶æ˜¯ roadhogï¼Œè™½ç„¶æ¥å…¥äº† dva ç­‰æ¡†æ¶ï¼Œæ–¹ä¾¿äº†æˆ‘ä»¬æŠŠå·¥ä½œé‡å¿ƒé›†ä¸­åœ¨ä¸šåŠ¡ä¸Šï¼Œä½†æ˜¯éšç€é¡¹ç›®çš„åºå¤§ï¼Œé—®é¢˜éšä¹‹è€Œæ¥ï¼Œé¦–å½“å…¶å†²çš„å°±æ˜¯çº¿ä¸Šéƒ¨ç½²çš„æ—¶å€™æ‰“åŒ…æ…¢çš„é—®é¢˜ã€‚å› ä¸º road çš„æ‰©å±•ä¸å¤ªçµæ´»ï¼Œå…¶æœ¬èº«çš„åˆè¡·å°±æ˜¯å°½å¯èƒ½å‡å°‘webpackçš„é…ç½®ï¼Œæ‰€ä»¥å¦‚ä½•é™ä½æ‰“åŒ…çš„é€Ÿåº¦å°±æˆäº†äºŸéœ€è§£å†³çš„é—®é¢˜ã€‚ é¡¹ç›®ä¾èµ–58ä¸ªï¼Œæ‰“åŒ…ä¹‹å140ä¸ªæ–‡ä»¶ã€‚ ç½‘ä¸Šæœäº†ä¸€åœˆï¼Œå‘ç°æ²¡æœ‰ä»¤äººæ»¡æ„çš„è§£å†³æ–¹æ¡ˆï¼Œåªå¥½è‡ªå·±æ¥è§£å†³ã€‚ä»”ç»†ç¼•äº†ä¸€éæ€è·¯åå‘ç°ï¼Œè¿˜æ˜¯æœ‰è§£å†³åŠæ³•çš„ã€‚ ä»¥ä¸‹æ”¹åŠ¨ä»…é€‚ç”¨äºå…¬å¸çš„åå°ç®¡ç†ç³»ç»Ÿé¡¹ç›®ã€‚ åˆ é™¤é¡¹ç›®ä¸­æ²¡æœ‰ç”¨åˆ°æˆ–åºŸå¼ƒçš„ä»£ç  åˆ©ç”¨å¥½ roadhog æ”¯æŒçš„ webpack é…ç½®é¡¹ è‡ªå·±æ”¹ roadhog çš„æºç ï¼Œç„¶åå‘å¸ƒä¸º npm åŒ…ï¼Œæ›¿æ¢æ‰ roadhog ç¬¬ä¸€é¡¹ä¸ç”¨è¯´ã€‚ ç¬¬äºŒé¡¹æ˜¯è®¾ç½® webpack çš„ externalsï¼Œç”±äºé¡¹ç›®ä¸­ç”¨åˆ°äº† g2ã€d3ã€echartsã€@antv/data-setã€momentã€g-cloudã€g2-plugin-sliderã€cal-heatmap ç­‰ js åº“ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬éƒ½é…ç½®åˆ° externals ä¸‹ï¼š 12345678910111213141516171819202122232425262728&#123; \"entry\": \"src/index.js\", \"extraBabelPlugins\": [ \"transform-runtime\", \"transform-decorators-legacy\", \"transform-class-properties\", [\"import\", &#123; \"libraryName\": \"antd\", \"libraryDirectory\": \"es\", \"style\": true &#125;] ], \"env\": &#123; \"development\": &#123; \"extraBabelPlugins\": [ \"dva-hmr\" ] &#125; &#125;, \"externals\": &#123; \"g2\": \"G2\", \"echarts\": \"echarts\", \"@antv/data-set\": \"DataSet\", \"moment\": \"moment\", \"g-cloud\": \"Cloud\", \"g2-plugin-slider\": \"G2.Plugin.slider\" &#125;, \"ignoreMomentLocale\": true, \"theme\": \"./src/theme.js\", \"hash\": true, \"multipage\": true&#125; åœ¨ .eslint.js å°†å…¶é…ç½®ä¸ºå…¨å±€å˜é‡ï¼š 1234567\"globals\": &#123; \"CalHeatMap\": true, \"DataSet\": true, \"moment\": true, \"echarts\": true, \"G2\": true&#125; ä»¥ä¸Šæ³¨æ„ï¼š é…ç½® &quot;multipage&quot;: true åï¼Œroadhog æ‰ä¼šæŠŠè¶…è¿‡2æ¬¡å¼•ç”¨çš„ä¾èµ–æ‰“ä¸º common åŒ… â€œdva-hmrâ€ è®¾ç½®åœ¨ development æ‰ä¼šé¿å…ç”Ÿäº§ç¯å¢ƒä¸‹å°†å…¶æ‰“åŒ…ï¼Œå› ä¸ºç”Ÿäº§ç¯å¢ƒä¸‹ä¸ä¼šç”¨åˆ° å°†è¿™äº› js åº“æ–‡ä»¶ï¼ˆä¸ç”¨åŒ…æ¶µg-cloudã€g2-plugin-sliderï¼‰ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ public/js ä¸‹ï¼Œroadhog ä½œè€…çº¦å®š public ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šåœ¨ server å’Œ build æ—¶è¢«è‡ªåŠ¨ copy åˆ°è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤æ˜¯ ./distï¼‰ä¸‹ã€‚æ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œå­˜æ”¾ favicon, iconfont, html, html é‡Œå¼•ç”¨çš„å›¾ç‰‡ç­‰ã€‚ æ‰‹åŠ¨åœ¨ index.ejs é‡Œé¢å°†å…¶å¼•å…¥ ç¬¬ä¸‰é¡¹ ä¸»è¦æ”¹åŠ¨çš„åœ°æ–¹ï¼š common.js ä¸‹ HtmlWebpackPlugin æ’ä»¶é…ç½®çš„åœ°æ–¹ï¼Œç»™å®ƒé…ç½® public ä¸‹çš„æ‰€æœ‰ js æ–‡ä»¶å’Œ css æ–‡ä»¶çš„è·¯å¾„å’Œç¯å¢ƒå˜é‡ï¼š1234567891011if (existsSync(join(paths.appSrc, 'index.ejs'))) &#123; const scripts = glob.sync(path.resolve(paths.appPublic) + '/js/*.js').map(filePath =&gt; path.basename(filePath)); const stylesheets = glob.sync(path.resolve(paths.appPublic) + '/stylesheets/*.css').map(filePath =&gt; path.basename(filePath)); ret.push(new HtmlWebpackPlugin(&#123; template: 'src/index.ejs', inject: true, scripts, stylesheets, env: JSON.stringify(NODE_ENV) &#125;));&#125; ç„¶ååœ¨ä½ çš„é¡¹ç›®çš„ index.ejs ä¸­å¼•å…¥ï¼š 12345678910111213&lt;head&gt; &lt;% var stylesheets = htmlWebpackPlugin.options.stylesheets || [] %&gt; &lt;% for(var i = 0; i &lt; stylesheets.length; i++) &#123; %&gt; &lt;link rel=\"stylesheet\" href=\"&lt;%= 'stylesheets/' + stylesheets[i] %&gt;\"&gt; &lt;% &#125; %&gt;&lt;/head&gt;&lt;body&gt; &lt;% var scripts = htmlWebpackPlugin.options.scripts || [] %&gt; &lt;% for(var i = 0; i &lt; scripts.length; i++) &#123; %&gt; &lt;script type=\"text/javascript\" src=\"&lt;%= 'js/' + scripts[i] %&gt;\"&gt;&lt;/script&gt; &lt;% &#125; %&gt;&lt;/body&gt; ä¿®æ”¹ webpack.config.prod.js æ›¿æ¢ webpack.optimize.UglifyJsPlugin ä¸ºï¼š 12345678910...(debug ? [] : [new UglifyJsPlugin(&#123; uglifyOptions: &#123; compress: &#123; warnings: false, &#125;, &#125;, cache: true, sourceMap: false, parallel: true,&#125;)]), UglifyJsPlugin çš„å¥½å¤„ä¸å¿…å¤šè¯´ï¼Œå¤§å®¶è‡ªå·± googleã€‚ åˆ æ‰ webpack.optimize.CommonsChunkPlugin é…ç½®ï¼Œå‚è€ƒ vue-cli2 çš„é…ç½®é¡¹ï¼š 12345678910111213141516171819202122232425262728293031323334if (config.multipage) &#123; // Support hash const name = config.hash ? 'common.[hash]' : 'common'; // ret.push(new webpack.optimize.CommonsChunkPlugin(&#123; // name: 'common', // filename: `$&#123;name&#125;.js`, // &#125;)); ret = ret.concat([ // split vendor js into its own file // å°†æ‰€æœ‰ä»node_modulesä¸­å¼•å…¥çš„jsæå–åˆ°vendor.jsï¼Œå³æŠ½å–åº“æ–‡ä»¶ new webpack.optimize.CommonsChunkPlugin(&#123; name: 'vendor', minChunks(module) &#123; return (module.resource &amp;&amp; /\\.js$/.test(module.resource) &amp;&amp; module.resource.indexOf(paths.appNodeModules) === 0); &#125;, &#125;), // extract webpack runtime and module manifest to its own file in order to // prevent vendor hash from being updated whenever app bundle is updated // ä»vendorä¸­æå–å‡ºmanifestï¼ŒåŸå› å¦‚ä¸Š new webpack.optimize.CommonsChunkPlugin(&#123; name: 'manifest', minChunks: Infinity, &#125;), // This instance extracts shared chunks from code splitted chunks and bundles them // in a separate chunk, similar to the vendor chunk // see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk new webpack.optimize.CommonsChunkPlugin(&#123; name, async: 'vendor-async', children: true, minChunks: 3, &#125;), ]);&#125; ç„¶åï¼Œè¿è¡Œ npm run testï¼Œnpm run buildï¼Œç¼–è¯‘å¥½ä¹‹åï¼Œå‘å¸ƒåˆ° npm ä»“åº“å¦‚ liangxinwei_roadhogã€‚ æœ€åï¼Œåˆ æ‰é¡¹ç›®ä¸‹çš„ package.json é‡Œé¢ roadhog ç›¸å…³çš„ä¾èµ–ï¼Œæ›¿æ¢ä¸º &quot;liangxinwei_roadhog&quot;: &quot;^1.0.0&quot;ï¼š 12345\"devDependencies\": &#123; - \"roadhog\": \"^1.3.1\", - \"roadhog-api-doc\": \"^0.1.0\", + \"liangxinwei_roadhog\": \"^1.0.0\",&#125;, ä¿®æ”¹å¯åŠ¨å’Œæ‰“åŒ…å‘½ä»¤ï¼š 12\"start\": \"node --max_old_space_size=4096 node_modules/liangxinwei_roadhog/lib/server.js\",\"build\": \"node --max_old_space_size=4096 node_modules/liangxinwei_roadhog/lib/build.js\" ç»è¿‡æˆ‘å‰åçš„æ•°æ®æ¯”å¯¹ï¼Œä¿®æ”¹ç¬¬äºŒé¡¹ä¹‹åï¼Œæ‰“åŒ…æ—¶é—´ç”±åŸæ¥çš„ 20-30min ç¼©å‡åˆ° 5-6minï¼Œä¿®æ”¹ç¬¬ä¸‰é¡¹ä¹‹åï¼Œåˆæ¬¡æ‰“åŒ…æ—¶é—´ä¸º 3-4minï¼Œå†æ¬¡æ‰“åŒ…æ—¶é—´ç¼©å‡åˆ° 1min ä¹‹å†…ã€‚å¤§åŠŸå‘Šæˆï¼ å‰ç«¯å¼€å‘é•¿è·¯æ¼«æ¼«ï¼Œå¤§å®¶ä¸”è¡Œä¸”çæƒœã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"webpackå„é…ç½®é¡¹å…¨è§£æ","slug":"webpackå„é…ç½®é¡¹å…¨è§£æ","date":"2019-01-30T10:59:45.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2019/01/30/webpackå„é…ç½®é¡¹å…¨è§£æ/","link":"","permalink":"http://yoursite.com/2019/01/30/webpackå„é…ç½®é¡¹å…¨è§£æ/","excerpt":"","text":"ä»¥ä¸‹æ‰€ä»¥å†…å®¹æ‘˜è‡ªã€æ·±å…¥æµ…å‡ºwebpackã€‘ï¼ŒåŒ…å«æ¯ä¸€é¡¹çš„å…·ä½“é…ç½®ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259const path = require('path');module.exports = &#123; /** * entry è¡¨ç¤ºå…¥å£, Webpack æ‰§è¡Œæ„å»ºçš„ç¬¬ä¸€æ­¥å°†ä» Entry å¼€å§‹,å¯æŠ½è±¡æˆè¾“å…¥ï¼Œç±»å‹å¯ä»¥æ˜¯ stringã€ objectã€ array */ // åªæœ‰ 1 ä¸ªå…¥å£,å…¥å£åªæœ‰ 1 ä¸ªæ–‡ä»¶ entry: ' ./app/entry', // åªæœ‰1ä¸ªå…¥å£,å…¥å£æœ‰ä¸¤ä¸ªæ–‡ä»¶ entry: ['./app/entry1', './app/entry2'], // æœ‰ä¸¤ä¸ªå…¥å£ entry: &#123; a: './app/entry-a', b: ['./app/entry-bl', './app/entry-b2'] &#125;, /** * å¦‚ä½•è¾“å‡ºç»“æœ : åœ¨ Webpack ç»è¿‡ä¸€ç³»åˆ—å¤„ç†å,å¦‚ä½•è¾“å‡ºæœ€ç»ˆæƒ³è¦çš„ä»£ç  */ output: &#123; // è¾“å‡ºæ–‡ä»¶å­˜æ”¾çš„ç›®å½•,å¿…é¡»æ˜¯ string ç±»å‹çš„ç»å¯¹è·¯å¾„ path: path.resolve(dirname, ' dist '), // è¾“å‡ºæ–‡ä»¶çš„åç§° // å®Œæ•´çš„åç§° filename: ' bundle.js', // åœ¨é…ç½®äº†å¤šä¸ª entry æ—¶,é€šè¿‡åç§°æ¨¡æ¿ä¸ºä¸åŒçš„ entry ç”Ÿæˆä¸åŒçš„æ–‡ä»¶åç§° filename: ' [name].js', // æ ¹æ®æ–‡ä»¶å†…å®¹çš„ Hash å€¼ç”Ÿæˆæ–‡ä»¶çš„åç§°, ç”¨äº æµè§ˆå™¨é•¿æ—¶é—´ç¼“å­˜æ–‡ä»¶ filename: ' [chunkhash].js', // æ”¾åˆ°æŒ‡å®šç›®å½•ä¸‹ // å‘å¸ƒåˆ°çº¿ä¸Šçš„æ‰€æœ‰èµ„æºçš„ URL å‰ç¼€,ä¸º string ç±»å‹ publicPath: '/assets/', // æ”¾åˆ°æ ¹ç›®å½•ä¸‹ publicPath: '', // æ”¾åˆ° CDN ä¸Š // å¯¼å‡ºåº“çš„åç§° , ä¸º string ç±»å‹, ä¸å¡«å®ƒæ—¶,é»˜è®¤çš„è¾“å‡ºæ ¼å¼æ˜¯åŒ¿åçš„ç«‹å³æ‰§è¡Œå‡½æ•° publicPath: 'https://cdn.example.com/', library: ' MyLibrary ', // å¯¼å‡ºåº“çš„ç±»å‹,ä¸ºæšä¸¾ç±»å‹,é»˜è®¤æ˜¯ var // å¯ä»¥æ˜¯umdã€ umd2ã€ commonjs2ã€ commonjsã€ amdã€ thisã€ varã€ assignã€ windowã€globalã€jsonp libraryTarget: 'umd', // æ˜¯å¦åŒ…å«æœ‰ç”¨çš„æ–‡ä»¶è·¯å¾„ä¿¡æ¯åˆ°ç”Ÿæˆçš„ä»£ç é‡Œ ,ä¸º boolean ç±»å‹ pathinfo: true, // é™„åŠ  Chunk çš„æ–‡ä»¶åç§° chunkFilename: '[id].js', chunkFilename: '[chunkhash].js', // JSONP å¼‚æ­¥åŠ è½½èµ„æºæ—¶çš„å›è°ƒå‡½æ•°åç§°,éœ€è¦å’ŒæœåŠ¡ç«¯æ­é…ä½¿ç”¨ jsonpFunction: 'myWebpackJsonp', // ç”Ÿæˆçš„ Source Map æ–‡ä»¶çš„åç§° // æµè§ˆå™¨å¼€å‘è€…å·¥å…·é‡Œæ˜¾ç¤ºçš„æºç æ¨¡å—åç§° sourceMapFilename: '[file].map', // å¼‚æ­¥åŠ è½½è·¨åŸŸçš„èµ„æºæ—¶ä½¿ç”¨çš„æ–¹å¼ devtoolModuleFilenameTemplate: 'webpack:lll[resource-path]', crossOriginLoading: 'use-credentials', crossOriginLoading: 'anonymous', crossOriginLoading: false &#125;, /** * é…ç½®æ¨¡å—ç›¸å…³ */ module: &#123; // ä¸ç”¨è§£æå’Œå¤„ç†çš„æ¨¡å—ï¼ŒWebpackå¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’è§£æå¤„ç†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½æé«˜æ„å»ºæ€§èƒ½ // æ³¨æ„ï¼Œè¢«å¿½ç•¥æ‰çš„æ–‡ä»¶é‡Œä¸åº”è¯¥åŒ…å« importã€ requireã€ define ç­‰æ¨¡å—åŒ–è¯­å¥ï¼Œä¸\\ç„¶ä¼šå¯¼è‡´åœ¨æ„å»ºå‡ºçš„ä»£ç ä¸­åŒ…å«æ— æ³•åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æ‰§è¡Œçš„æ¨¡å—åŒ–è¯­å¥ã€‚ //å•ç‹¬ã€å®Œæ•´çš„ ã€react.min.jsã€æ–‡ä»¶æ²¡æœ‰é‡‡ç”¨æ¨¡å—åŒ–ï¼Œå¿½ç•¥å¯¹ ã€react.min.jsã€æ–‡ä»¶ çš„é€’å½’è§£æå¤„ç† noParse: [/react\\.min\\.js$/], // é…ç½® Loader rules: [ &#123; // æ­£åˆ™åŒ¹é…å‘½ä¸­è¦ä½¿ç”¨ Loader çš„æ–‡ä»¶ test: /\\.jsx$/, // åªä¼šå‘½ä¸­è¿™é‡Œé¢çš„æ–‡ä»¶ include: [ path.resolve(__dirname, 'src') ], // å¿½ç•¥è¿™é‡Œé¢çš„æ–‡ä»¶ exclude: [ path.resolve(__dirname, 'node_modules') ], // ä½¿ç”¨å“ªäº› Loader,æœ‰å…ˆåæ¬¡åº,ä»åå‘å‰æ‰§è¡Œ use: [ // style-loaderä¼šå°† cssä»£ç è½¬æ¢æˆå­—ç¬¦ä¸²åï¼Œæ³¨å…¥ JavaScriptä»£ç ä¸­ï¼Œé€šè¿‡ JavaScript å‘ DOM å¢åŠ æ ·å¼ã€‚ å¦‚æœæˆ‘ä»¬æƒ³å°† css ä»£ç æå–åˆ°ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè€Œä¸æ˜¯å’Œ JavaScript æ··åœ¨ ä¸€ èµ·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ ExtractTextPlugin 'style-loader', // css-loader ä¼šæ‰¾å‡º css ä»£ç ä¸­ eimport å’Œ url ()è¿™æ ·çš„å¯¼å…¥è¯­å¥ï¼Œå‘Šè¯‰ Webpack ä¾èµ–è¿™äº›èµ„æº ã€‚ åŒæ—¶æ”¯æŒ CSS Modulesã€å‹ç¼© css ç­‰åŠŸèƒ½ ã€‚å¤„ç†å®Œåå†å°†ç»“æœäº¤ç»™ style-loaderå¤„ç†ã€‚ 'css-loader', // é€šè¿‡ sass-loaderå°† scss æºç è½¬æ¢ä¸º css ä»£ç ï¼Œå†å°† css ä»£ç äº¤ç»™ css-loaderå¤„ç†ã€‚ 'sass-loader', // ç›´æ¥ä½¿ç”¨ Loader çš„åç§° &#123; loader: 'css-loader', // å‘ html-loader ä¼ ä¸€äº›å‚æ•° options: &#123;&#125; &#125;, ], // ä¸ç”¨è§£æå’Œå¤„ç†çš„æ¨¡å—ï¼ŒWebpackå¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’è§£æå¤„ç†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½æé«˜æ„å»ºæ€§èƒ½ noParse: [ // ç”¨æ­£åˆ™åŒ¹é… /special-library\\.js$/ ] &#125; ], /** * é…ç½®æ’ä»¶ */ plugins: [], /** * é…ç½®å¯»æ‰¾æ¨¡å—çš„è§„åˆ™ */ resolve: &#123; // å¯»æ‰¾æ¨¡å—çš„æ ¹ç›®å½•,ä¸º array ç±»å‹,é»˜è®¤ä»¥ node_modules ä¸ºæ ¹ç›®å½• // å¯ä»¥æŒ‡æ˜å­˜æ”¾ç¬¬ä¸‰æ–¹æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œä»¥å‡å°‘å¯»æ‰¾ï¼Œ dirname è¡¨ç¤ºå½“å‰å·¥ä½œç›®å½• modules: [path.resolve(__dirname, 'node_modules')], modules: [ 'node modules ', path.resolve(__dirname, 'app') ], // æ¨¡å—çš„åç¼€åï¼Œåç¼€å°è¯•åˆ—è¡¨è¦å°½å¯èƒ½å°ï¼Œé¢‘ç‡å‡ºç°æœ€é«˜çš„æ–‡ä»¶åç¼€è¦ä¼˜å…ˆæ”¾åœ¨æœ€å‰é¢ extensions: ['.js', 'json', 'jsx', '.css'], // æ¨¡å—åˆ«åé…ç½®,ç”¨äºæ˜ å°„æ¨¡å—ï¼Œä»è€Œè·³è¿‡è€—æ—¶çš„é€’å½’è§£ææ“ä½œã€‚ alias: &#123; // å°† 'module'æ˜ å°„æˆ'new-module' ,åŒæ ·, 'module/path/file'ä¹Ÿä¼šè¢«æ˜ å°„ æˆ'new-module/path/file' 'module': 'new-module', // ä½¿ç”¨ç»“å°¾ç¬¦å·$å ,å°† 'only-module' æ˜ å°„æˆ 'new-module', // ä½†æ˜¯ä¸åƒä¸Šé¢çš„ ,' module/path/file 'ä¸ä¼šè¢«æ˜ å°„æˆ' new-module/path/file 'only-module$': 'new-modules', &#125;, // alias è¿˜æ”¯æŒä½¿ç”¨æ•°ç»„æ¥æ›´è¯¦ç»†åœ°è¿›è¡Œé…ç½® alias: [ &#123; // è€æ¨¡å— name: 'module', // æ–°æ¨¡å— alias: 'new-module ', // æ˜¯å¦åªæ˜ å°„æ¨¡å—,å¦‚æœæ˜¯ true, åˆ™åªæœ‰' module 'ä¼šè¢«æ˜ å°„:å¦‚æœæ˜¯ false,åˆ™'module/inner/path 'ä¹Ÿä¼šè¢«æ˜ å°„ onlyModule: true, &#125; ], // æ˜¯å¦è·Ÿéšæ–‡ä»¶çš„è½¯é“¾æ¥å»æœå¯»æ¨¡å—çš„è·¯å¾„ symlinks: true, // æ¨¡å—çš„æè¿°æ–‡ä»¶ descriptionFiles: [' package.json '], // æ¨¡å—çš„æè¿°æ–‡ä»¶é‡Œæè¿°å…¥å£çš„æ–‡ä»¶çš„å­—æ®µå mainFields: [' main '], // æ˜¯å¦å¼ºåˆ¶å¯¼å…¥è¯­å¥å†™æ˜æ–‡ä»¶åç¼€ enforceExtension: false &#125;, /** * è¾“å‡ºæ–‡ä»¶çš„æ€§èƒ½æ£€æŸ¥é…ç½® */ performance: &#123; // æœ‰æ€§èƒ½é—®é¢˜æ—¶è¾“å‡ºè­¦å‘Š hints: 'warning ', // æœ‰æ€§èƒ½é—®é¢˜æ—¶è¾“å‡ºé”™è¯¯ hints: 'error ', // å…³é—­æ€§èƒ½æ£€æŸ¥ hints: false, // æœ€å¤§æ–‡ä»¶çš„å¤§å°(å•ä½ä¸º bytes) maxAssetSize: 200000, // æœ€å¤§å…¥å£æ–‡ä»¶çš„å¤§å° (å•ä½ä¸º bytes) maxEntrypointSize: 400000, // è¿‡æ»¤è¦æ£€æŸ¥çš„æ–‡ä»¶ assetFilter: function (assetFilename) &#123; return assetFilename.endsWith(' .css ') || assetFilename.endsWith('.js'); &#125; &#125;, // é…ç½® source-map ç±»å‹ devtool: ' source-map ', // Webpack ä½¿ç”¨çš„æ ¹ç›®å½•, string ç±»å‹å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ // é…ç½®è¾“å‡ºä»£ç çš„è¿è¡Œç¯å¢ƒ context: __dirname, // æµè§ˆå™¨,é»˜è®¤ target: 'web', // WebWorker target: 'webworker', // Node.js,ä½¿ç”¨ ã€requireã€è¯­å¥åŠ è½½ Chunkä»£ç  target:'async-node', II Node.js,å¼‚æ­¥åŠ è½½ Chunkä»£ç  target: 'node', // nw.js target: 'node-webkit', // electron,ä¸»çº¿ç¨‹ target: 'electron-main', // electron,æ¸²æŸ“çº¿ç¨‹ target: 'electron-renderer', // ä½¿ç”¨æ¥è‡ª JavaScript è¿è¡Œç¯å¢ƒæä¾›çš„å…¨å±€å˜é‡ externals: &#123; jquery: 'jQuery' &#125; , /** * æ§åˆ¶å°è¾“å‡ºæ—¥å¿—æ§åˆ¶ */ stats: &#123; assets: true, colors: true, errors: true, errorDetails: true, hash: true &#125; , /** * DevServer ç›¸å…³çš„é…ç½® */ devServer: &#123; // ä»£ç†åˆ°åç«¯æœåŠ¡æ¥å£ proxy: &#123; '/api': 'http:// localhost:3000' &#125; , // é…ç½® DevServer HTTP æœåŠ¡å™¨çš„æ–‡ ä»¶æ ¹ç›®å½• contentBase: path.join(__dirname, 'public'), // æ˜¯å¦å¼€å¯ Gzip å‹ç¼© compress: true, // æ˜¯å¦å¼€å‘ HTMLS History API ç½‘é¡µ historyApiFallback: true, // æ˜¯å¦å¼€å¯æ¨¡å—çƒ­æ›¿æ¢åŠŸèƒ½ hot: true, // æ˜¯å¦å¼€å¯ HTTPS æ¨¡å¼ https: false, // æ˜¯å¦æ•æ‰ Webpackæ„å»ºçš„æ€§èƒ½ä¿¡æ¯,ç”¨äºåˆ†ææ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æ„å»ºæ€§èƒ½ä¸ä½³ profile: true, // æ˜¯å¦å¯ç”¨ç¼“å­˜æ¥æå‡æ„å»ºé€Ÿåº¦ cache: false, // æ˜¯å¦å¼€å§‹ watch: true, // ç›‘å¬æ¨¡å¼é€‰é¡¹ // ä¸ç›‘å¬çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹,æ”¯æŒæ­£åˆ™åŒ¹é…ã€‚é»˜è®¤ä¸ºç©º watchOptions: &#123; ignored: /node modules/, // ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿå,ç­‰ 300ms å†æ‰§è¡ŒåŠ¨ä½œ,æˆªæµ,é˜²æ­¢æ–‡ä»¶æ›´æ–°å¤ªå¿«å¯¼è‡´é‡æ–°ç¼– è¯‘é¢‘ç‡å¤ªå¿«ã€‚é»˜è®¤ä¸º 300ms aggregateTimeout: 300, // ä¸åœåœ°è¯¢é—®ç³»ç»ŸæŒ‡å®šçš„æ–‡ä»¶æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–,é»˜è®¤æ¯ç§’è¯¢é—® 1000 æ¬¡ poll: 1000 &#125; &#125; &#125;&#125;;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"å°ç¨‹åºå’Œh5é¡µé¢ä¹‹é—´çš„äº’ç›¸è·³è½¬","slug":"å°ç¨‹åºå’Œh5é¡µé¢ä¹‹é—´çš„äº’ç›¸è·³è½¬","date":"2018-10-23T11:02:45.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2018/10/23/å°ç¨‹åºå’Œh5é¡µé¢ä¹‹é—´çš„äº’ç›¸è·³è½¬/","link":"","permalink":"http://yoursite.com/2018/10/23/å°ç¨‹åºå’Œh5é¡µé¢ä¹‹é—´çš„äº’ç›¸è·³è½¬/","excerpt":"","text":"å°ç¨‹åºè·³è½¬åˆ° h5 é¡µé¢å°ç¨‹åºä»£ç ï¼š 1wx.navigateTo(&#123;url: &apos;/pages/webview?url=&apos; + encodeURIComponent(&apos;h5é¡µé¢çš„ url&apos;)&#125;); webview.js 12345678910111213&lt;web-view src=&quot;&#123;&#123;url&#125;&#125;&quot; bindmessage=&quot;handlePostMessage&quot;&gt;&lt;/web-view&gt;onLoad: function (options) &#123; this.setData(&#123; url: decodeURIComponent(options.url), &#125;);&#125;,// æ¥æ”¶ h5 é¡µé¢ä¼ é€’è¿‡æ¥çš„å‚æ•°handlePostMessage: function (e) &#123; const data = e.detail; console.log(data);&#125; h5 é¡µé¢ä»£ç ï¼š 1234&lt;head&gt; Â·Â·Â· &lt;script type=&quot;text/javascript&quot; src=&quot;https://res.wx.qq.com/open/js/jweixin-1.3.2.js&quot;&gt;&lt;/script&gt;&lt;/head&gt; è®°å¾—æŠŠ url çš„ host æ·»åŠ åˆ°åå°çš„åˆæ³•åŸŸåä¸­ã€‚ h5 é¡µé¢è·³å›å°ç¨‹åºåœ¨ h5 é¡µé¢çš„ä»»ä½•ç‚¹å‡»äº‹ä»¶ä¸­ï¼š 12345678/* eslint-disable */ wx.miniProgram.getEnv(function (res) &#123; if (res.miniprogram) &#123; wx.miniProgram.switchTab(&#123;url: &apos;/pages/home/home&apos;&#125;); wx.miniProgram.postMessage(&#123;data: &#123;id: &apos;1234&apos;&#125;&#125;); // ä¼ çš„å‚æ•° &#125; &#125;); /* eslint-enable */ è¯·æ³¨æ„ï¼Œæ˜¯wx.miniProgramï¼Œä¸æ˜¯ window.wx.miniProgram","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://yoursite.com/categories/å°ç¨‹åº/"}],"tags":[]},{"title":"å¾®ä¿¡è®¢é˜…å·å¼€å‘ä¹‹è·å–ç½‘é¡µæˆæƒ","slug":"å¾®ä¿¡è®¢é˜…å·å¼€å‘ä¹‹è·å–ç½‘é¡µæˆæƒ","date":"2018-10-17T11:02:20.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2018/10/17/å¾®ä¿¡è®¢é˜…å·å¼€å‘ä¹‹è·å–ç½‘é¡µæˆæƒ/","link":"","permalink":"http://yoursite.com/2018/10/17/å¾®ä¿¡è®¢é˜…å·å¼€å‘ä¹‹è·å–ç½‘é¡µæˆæƒ/","excerpt":"","text":"é¢˜è®°ï¼šé¡¹ç›®ï¼ˆVueï¼‰æ˜¯h5é¡µé¢ï¼Œä¸»è¦ç”¨äºå…¬ä¼—å·é‡Œé¢çš„æ´»åŠ¨ï¼Œç›®çš„æ˜¯å¢åŠ å…¬ä¼—å·å…³æ³¨äººæ•°ï¼Œè¾¾åˆ°æ¨å¹¿çš„ç›®çš„ï¼Œå…¶ä¸­æ¶‰åŠåˆ°è·å–ç”¨æˆ·çš„æ˜µç§°ã€å¤´åƒã€unionidç­‰åŸºæœ¬ä¿¡æ¯ã€‚ç”±äºå¾®ä¿¡å…¬ä¼—å·æ”¹ç‰ˆæˆè®¢é˜…å·ä¹‹åï¼Œå¹¶æ²¡æœ‰è·å–ç”¨æˆ·ä¿¡æ¯çš„æ¥å£ï¼ŒæœåŠ¡å·æ‰æœ‰ï¼Œè¯¦æƒ…å¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£æ‰€ä»¥ç›®å‰æƒ³åˆ°çš„æ€è·¯æ˜¯å€Ÿç”¨å’Œè®¢é˜…å·å…³è”çš„æœåŠ¡å·è·å– codeï¼Œç„¶ååˆ©ç”¨è·å–åˆ°çš„code å‘é€ç»™åç«¯å†è¯·æ±‚ç”¨æˆ·ä¿¡æ¯ã€‚é¦–å…ˆï¼Œåœ¨ App.vue çš„ created ä¸­è·å– codeï¼š 1234567891011import &#123;getUserOpenId&#125; from './utils';created() &#123; this.getUserInfo();&#125;,methods: &#123; getUserInfo(reRequest = false) &#123; const answerId = location.hash.startsWith('#/degenerate-test/result') &amp;&amp; Util.getURLHashParameter('answerId'); getUserOpenId(!answerId ? 'degenerate-test' : 'degenerate-test/result', !answerId ? '' : `answerId=$&#123;answerId&#125;`, reRequest); &#125;&#125; å…¶ä¸­ï¼ŒgetUserOpenId ä¸ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051/** * è·å– code * @param routePath * @param queryParam */function getCodeUrl(routePath = '', queryParam) &#123; let url = `$&#123;location.protocol&#125;//$&#123;location.host&#125;/h5/`; url += routePath ? `#/$&#123;routePath&#125;` : ''; url += queryParam ? `?$&#123;queryParam&#125;` : ''; url = encodeURIComponent(url); console.log('url:', url); console.log('redirect url:', `https://open.weixin.qq.com/connect/oauth2/authorize?appid=$&#123;APP_ID&#125;&amp;redirect_uri=$&#123;url&#125;&amp;response_type=code&amp;scope=snsapi_userinfo&amp;state=STATE#wechat_redirect`); window.location.href = `https://open.weixin.qq.com/connect/oauth2/authorize?appid=$&#123;APP_ID&#125;&amp;redirect_uri=$&#123;url&#125;&amp;response_type=code&amp;scope=snsapi_userinfo&amp;connect_redirect=1&amp;state=$&#123;Math.random().toString(16).substr(-6)&#125;#wechat_redirect`; // å› ä¸º code åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥ä¸ºäº†ç¡®ä¿æ¯æ¬¡è¯·æ±‚åˆ°çš„ code éƒ½æ˜¯æœ‰æ•ˆçš„å€¼ï¼Œæ­¤å¤„è®¾ç½® state å‚æ•°ä¸º éšæœºå­—ç¬¦ä¸²&#125;/** * è·å– user openId * @param routePath * @param queryParam * @param reRequest */function getUserOpenId(routePath, queryParam, reRequest) &#123; const existedUnionId = localStorage.getItem('userUnionId'); if (existedUnionId) &#123; console.log('æœ‰ union_id:', existedUnionId, ', ä¸å‘è¯·æ±‚'); user.actions.setUnionId(store, existedUnionId); new EventManager().trigger('onUserInfoReady'); return; &#125; const code = Util.getUrlSearchParameter('code'); console.log('code', code); if (code &amp;&amp; !reRequest) &#123; axiosInstance.post(Url.USER_INFO, &#123;code&#125;).then(res =&gt; &#123; console.log('ç”¨æˆ·ä¿¡æ¯ data', res); res.telephone != null &amp;&amp; user.actions.setTelephoneNumber(store, res.telephone); res.openid != null &amp;&amp; user.actions.setOpenId(store, res.openid); res.unionid != null &amp;&amp; user.actions.setUnionId(store, res.unionid); res.nickname != null &amp;&amp; user.actions.setNickname(store, res.nickname); res.headimgurl != null &amp;&amp; user.actions.setHeadImgUrl(store, res.headimgurl); new EventManager().trigger('onUserInfoReady'); &#125;).catch((res) =&gt; &#123; console.error('è·å–ç”¨æˆ·ä¿¡æ¯å‡ºé”™,', res); Vue.prototype.$toast((res &amp;&amp; res.msg) || 'æ‚¨çš„æˆæƒä¿¡æ¯æœ‰è¯¯ï¼Œè¯·é€€å‡ºä¹‹åé‡æ–°è¿›å…¥'); &#125;); &#125; else &#123; console.log('æ²¡æœ‰ code æˆ–è€… code è¢«ä½¿ç”¨è¿‡ï¼Œå¾®ä¿¡å³å°†é‡å®šå‘'); getCodeUrl(routePath, queryParam); &#125;&#125; ä¸Šé¢çš„ APP_ID å³ä¸ºæœåŠ¡å·çš„ app_idï¼Œç„¶åå¾®ä¿¡ä¼šåšä¸€æ¬¡é‡å®šå‘ï¼Œå‡ºç°æˆæƒå¼¹æ¡†é¡µç‚¹å‡»æˆæƒä¹‹åï¼Œå¾®ä¿¡ä¼šå°† code ä»¥ URL ä¸­ search çš„å½¢å¼ä¼ å›ï¼Œå‰ç«¯è·å–åˆ° code ä¹‹åå³å¯å‘ç»™åç«¯ï¼Œåç«¯æ‹¿åˆ° code ä¹‹åï¼Œå³å¯è¿”å›ç”¨æˆ·çš„ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒæ¼«é•¿ï¼Œåº”ä¸ºåç«¯éœ€è¦å‘å¾®ä¿¡è·å–ä¿¡æ¯ï¼Œå¤§æ¦‚500msï¼Œè·å–åˆ°ä¹‹åï¼Œå¯ä»¥æŠŠ unionid ç¼“å­˜ä¸‹æ¥ï¼Œè¿™æ ·ä»¥åå°±ä¸åº”é¢‘ç¹çš„è¯·æ±‚äº†ã€‚è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºè·å–ç”¨æˆ·ä¿¡æ¯æ˜¯ä¸€ä¸ªæ¯”è¾ƒè€—æ—¶çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥å¦‚æœæ´»åŠ¨ä¸»é¡µï¼ˆå¦‚ home.vueï¼‰æœ‰éœ€è¦ç”¨ unionid ä½œä¸ºå‚æ•°çš„è¯·æ±‚çš„è¯ï¼Œå¯èƒ½ç”¨æˆ·ä¿¡æ¯è¯·æ±‚è¿˜æ²¡ç»“æŸï¼Œhome.vue çš„ mounted å·²ç»æ‰§è¡Œå®Œæ¯•äº†ï¼Œæ‰€ä»¥ä¼šæœ‰ unionid è¿˜æœªå–åˆ°çš„æƒ…å†µå‡ºç°ï¼Œæ­¤å¤„è¦æ³¨æ„ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯äº‹ä»¶ç®¡ç†å™¨ï¼ˆæœ€åé¢ä¼šå†™å‡ºæ¥ï¼‰ï¼Œç­‰ç¡®ä¿è·å–åˆ° unionid ä¹‹åï¼Œäº‹ä»¶ç®¡ç†å™¨è§¦å‘æ´»åŠ¨é¦–é¡µçš„è¯·æ±‚ï¼Œå¦‚æœæ²¡æœ‰ unionid çš„è¯ï¼Œä¼šé‡æ–°èµ°ä¸€éä¸Šé¢çš„æµç¨‹ï¼Œå…ˆè·å– codeï¼Œç„¶åå†é‡æ–°è¯·æ±‚ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™æ ·èƒ½ç¡®ä¿ä¸ä¼šå‘ç”Ÿ unionid ä¸º null çš„æƒ…å†µã€‚ps: Vue çš„æ‰§è¡Œé¡ºåºä¸º App created -&gt; home created -&gt; home mounted -&gt; app mountedä½†å¦‚æœ home.vue ä½¿ç”¨çš„æ˜¯åŠ¨æ€è·¯ç”±åŠ è½½çš„è¯ï¼Œå°±ä¸æ˜¯è¿™ä¸ªé¡ºåºäº†ï¼Œæ­¤å¤„è¦ç‰¹åˆ«æ³¨æ„ã€‚homeï¼š 123456789101112131415161718192021222324computed: &#123; ...mapGetters(['unionId'])&#125;,mounted() &#123; new EventManager().on('onUserInfoReady', this.checkUnionId);&#125;,beforeDestroy() &#123; new EventManager().off('onUserInfoReady');&#125;,methods: &#123; checkUnionId() &#123; console.log('å‘é€è¯·æ±‚ä¹‹å‰ï¼ŒunionIdï¼š', this.unionId); // this.$parent å³ä¸º App.vue if (!this.unionId &amp;&amp; this.$parent.getUserInfo) &#123; this.$toast('è·å–ä¿¡æ¯ä¸­Â·Â·Â·'); this.$parent.getUserInfo(true); &#125; else &#123; this.requestData(); // å¯åˆ©ç”¨ unionid è¯·æ±‚æ•°æ® &#125; &#125;, async requestData() &#123; // balabalabala &#125;&#125; ä¸‹é¢ä¸º EventManager 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182/** * é€šç”¨å…¨å±€äº‹ä»¶ç®¡ç†å™¨ å•ä¾‹æ¨¡å¼ */let instance;class EventManager &#123; constructor() &#123; if (!instance) &#123; this.onObj = &#123;&#125;; this.oneObj = &#123;&#125;; instance = this; &#125; return instance; &#125; /** * ä½¿ç”¨ on è¿›è¡Œè®¢é˜…çš„å‡½æ•°ï¼Œæ¯æ¬¡äº‹ä»¶å‘ç”Ÿå“åº”æ—¶éƒ½ä¼šè¢«è§¦å‘ */ on(key, fun) &#123; if (key &amp;&amp; fun &amp;&amp; typeof key === 'string' &amp;&amp; typeof fun === 'function') &#123; this.onObj[key] = this.onObj[key] || []; this.onObj[key].push(fun); &#125; else &#123; console.error('incorrect parameters: the type of parameter key must be string, and the type of parameter fun must be function'); &#125; &#125; /** * ä½¿ç”¨ one è¿›è¡Œè®¢é˜…çš„å‡½æ•°ï¼Œåªä¼šè§¦å‘ä¸€æ¬¡ */ one(key, fun) &#123; if (key &amp;&amp; fun &amp;&amp; typeof key === 'string' &amp;&amp; typeof fun === 'function') &#123; this.oneObj[key] = this.oneObj[key] || []; this.oneObj[key].push(fun); &#125; else &#123; console.error('incorrect parameters: the type of parameter key must be string, and the type of parameter fun must be function'); &#125; &#125; /** * è§£é™¤æ‰€æœ‰è®¢é˜…äº†æŸä¸ªäº‹ä»¶çš„æ‰€æœ‰å‡½æ•° */ off(key) &#123; if (key &amp;&amp; typeof key === 'string') &#123; this.oneObj[key] = []; this.onObj[key] = []; &#125; else &#123; console.error('incorrect parameters: the type of parameter key must be string'); &#125; &#125; /** * è§£é™¤æ‰€æœ‰ */ offAll() &#123; this.oneObj = &#123;&#125;; this.onObj = &#123;&#125;; &#125; /** * ç”¨äºå‘å¸ƒè€…å‘å¸ƒäº‹ä»¶ï¼Œå°†é™¤ç¬¬ä¸€å‚æ•°ï¼ˆäº‹ä»¶åï¼‰çš„å…¶ä»–å‚æ•°ï¼Œä½œä¸ºæ–°çš„å‚æ•°ï¼Œè§¦å‘ä½¿ç”¨ one ä¸ on è¿›è¡Œè®¢é˜…çš„å‡½æ•° */ trigger(key, ...args) &#123; if (key &amp;&amp; typeof key === 'string') &#123; if (this.onObj[key] !== undefined &amp;&amp; this.onObj[key].length &gt; 0) &#123; this.onObj[key].forEach(v =&gt; &#123; v.apply(null, args); &#125;); &#125; if (this.oneObj[key] !== undefined &amp;&amp; this.oneObj[key].length &gt; 0) &#123; this.oneObj[key].forEach(v =&gt; &#123; v.apply(null, args); &#125;); this.oneObj[key] = []; &#125; &#125; else &#123; console.error('incorrect parameters: the type of parameter key must be string'); &#125; &#125;&#125;export default EventManager; \bæœ€åï¼Œè´´ä¸€ä¸ªæˆ‘è‡ªå·±æ­çš„é€šç”¨å…¬ä¼—å·ç½‘é¡µå¼€å‘ Vue é¡¹ç›®æ¡†æ¶","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"http://yoursite.com/categories/å°ç¨‹åº/"}],"tags":[]},{"title":"æµè§ˆå™¨/iframe å…¨å±ã€é€€å‡ºå…¨å±","slug":"æµè§ˆå™¨-iframe-å…¨å±ã€é€€å‡ºå…¨å±","date":"2018-08-15T10:56:06.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2018/08/15/æµè§ˆå™¨-iframe-å…¨å±ã€é€€å‡ºå…¨å±/","link":"","permalink":"http://yoursite.com/2018/08/15/æµè§ˆå™¨-iframe-å…¨å±ã€é€€å‡ºå…¨å±/","excerpt":"","text":"å¤–é¢çš„ html æ–‡ä»¶ index.htmlï¼š 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;fullScreen&lt;/title&gt; &lt;style&gt; body &#123; margin: 0; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;iframe allowfullscreen src=&quot;iframe.html&quot; frameborder=&quot;0&quot; style=&quot;width: 500px;height: 500px;background:#aaa&quot;&gt;&lt;/iframe&gt;&lt;/body&gt;&lt;/html&gt; é‡Œé¢åµŒå¥—çš„ iframe.html æ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;iframe&lt;/h1&gt; &lt;button id=&quot;button&quot;&gt;å…¨å±&lt;/button&gt; &lt;script&gt; // åˆ¤æ–­æ˜¯å¦å…è®¸å…¨å± var fullscreenEnabled = document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled; // å…¨å± function launchFullscreen(element) &#123; if (element.requestFullscreen) &#123; element.requestFullscreen(); &#125; else if (element.mozRequestFullScreen) &#123; element.mozRequestFullScreen(); &#125; else if (element.msRequestFullscreen) &#123; element.msRequestFullscreen(); &#125; else if (element.webkitRequestFullscreen) &#123; element.webkitRequestFullScreen(); &#125; &#125; // é€€å‡ºå…¨å± function exitFullscreen() &#123; if (document.exitFullscreen) &#123; document.exitFullscreen(); &#125; else if (document.msExitFullscreen) &#123; document.msExitFullscreen(); &#125; else if (document.mozCancelFullScreen) &#123; document.mozCancelFullScreen(); &#125; else if (document.webkitExitFullscreen) &#123; document.webkitExitFullscreen(); &#125; &#125; var btn = document.querySelector(&apos;#button&apos;); if (fullscreenEnabled) &#123; btn.addEventListener(&apos;click&apos;, function () &#123; var fullscreenElement = document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement; if (fullscreenElement) &#123; exitFullscreen(); btn.innerHTML = &apos;å…¨å±&apos;; &#125; else &#123; launchFullscreen(document.documentElement); btn.innerHTML = &apos;é€€å‡ºå…¨å±&apos;; &#125; &#125;, false); &#125; // ç›‘å¬å…¨å±äº‹ä»¶ document.addEventListener(&apos;webkitfullscreenchange&apos;, function fullscreenChange() &#123; if (document.fullscreenEnabled || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement) &#123; console.log(&apos;enter fullscreen&apos;); &#125; else &#123; console.log(&apos;exit fullscreen&apos;); &#125; &#125;, false); &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"javawebå¸¸è§HTTPçŠ¶æ€ç ","slug":"javawebå¸¸è§HTTPçŠ¶æ€ç ","date":"2017-12-23T10:53:27.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/12/23/javawebå¸¸è§HTTPçŠ¶æ€ç /","link":"","permalink":"http://yoursite.com/2017/12/23/javawebå¸¸è§HTTPçŠ¶æ€ç /","excerpt":"","text":"å®¢æˆ·ç«¯ 404 -Not Found ä»£è¡¨å®¢æˆ·ç«¯é”™è¯¯ï¼ŒæŒ‡çš„æ˜¯æœåŠ¡å™¨ç«¯æ— æ³•æ‰¾åˆ°æ‰€è¯·æ±‚çš„èµ„æº 400 -è¯·æ±‚æ— æ•ˆï¼ŒæœåŠ¡å™¨ä¸ç†è§£è¯·æ±‚çš„è¯­æ³• 403 - ç¦æ­¢è®¿é—® ï¼ŒæœåŠ¡å™¨æ‹’ç»è¯·æ±‚ 405 - èµ„æºè¢«ç¦æ­¢ï¼Œç¦ç”¨è¯·æ±‚ä¸­æŒ‡å®šçš„æ–¹æ³• 406 - æ— æ³•æ¥å— ï¼Œæ— æ³•ä½¿ç”¨è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å“åº”è¯·æ±‚çš„ç½‘é¡µ 407 - è¦æ±‚ä»£ç†èº«ä»½éªŒè¯ ï¼Œæ­¤çŠ¶æ€ä»£ç ä¸ 401ï¼ˆæœªæˆæƒï¼‰ç±»ä¼¼ï¼Œä½†æŒ‡å®šè¯·æ±‚è€…åº”å½“æˆæƒä½¿ç”¨ä»£ç† 408 - è¯·æ±‚è¶…æ—¶ï¼ŒæœåŠ¡å™¨ç­‰å€™è¯·æ±‚æ—¶å‘ç”Ÿè¶…æ—¶ 409 - å†²çªï¼ŒæœåŠ¡å™¨åœ¨å®Œæˆè¯·æ±‚æ—¶å‘ç”Ÿå†²çªã€‚ æœåŠ¡å™¨å¿…é¡»åœ¨å“åº”ä¸­åŒ…å«æœ‰å…³å†²çªçš„ä¿¡æ¯ 410 - å·²åˆ é™¤ï¼Œå¦‚æœè¯·æ±‚çš„èµ„æºå·²æ°¸ä¹…åˆ é™¤ï¼ŒæœåŠ¡å™¨å°±ä¼šè¿”å›æ­¤å“åº”ã€‚ 411 - éœ€è¦æœ‰æ•ˆé•¿åº¦ï¼Œ æœåŠ¡å™¨ä¸æ¥å—ä¸å«æœ‰æ•ˆå†…å®¹é•¿åº¦æ ‡å¤´å­—æ®µçš„è¯·æ±‚ã€‚ 412 - æœªæ»¡è¶³å‰ææ¡ä»¶ï¼Œ æœåŠ¡å™¨æœªæ»¡è¶³è¯·æ±‚è€…åœ¨è¯·æ±‚ä¸­è®¾ç½®çš„å…¶ä¸­ä¸€ä¸ªå‰ææ¡ä»¶ã€‚ 413 - è¯·æ±‚å®ä½“è¿‡å¤§ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚ï¼Œå› ä¸ºè¯·æ±‚å®ä½“è¿‡å¤§ï¼Œè¶…å‡ºæœåŠ¡å™¨çš„å¤„ç†èƒ½åŠ›ã€‚ 414 - è¯·æ±‚çš„ URI è¿‡é•¿ï¼Œ è¯·æ±‚çš„ URIï¼ˆé€šå¸¸ä¸ºç½‘å€ï¼‰è¿‡é•¿ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ã€‚ 415 - ä¸æ”¯æŒçš„åª’ä½“ç±»å‹ï¼Œ è¯·æ±‚çš„æ ¼å¼ä¸å—è¯·æ±‚é¡µé¢çš„æ”¯æŒã€‚ 416 - è¯·æ±‚èŒƒå›´ä¸ç¬¦åˆè¦æ±‚ï¼Œå¦‚æœé¡µé¢æ— æ³•æä¾›è¯·æ±‚çš„èŒƒå›´ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›æ­¤çŠ¶æ€ä»£ç ã€‚ 417 - æœªæ»¡è¶³æœŸæœ›å€¼ï¼ŒæœåŠ¡å™¨æœªæ»¡è¶³â€æœŸæœ›â€è¯·æ±‚æ ‡å¤´å­—æ®µçš„è¦æ±‚ 500 - å†…éƒ¨æœåŠ¡å™¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚ 501 - æœªå®ç° ï¼ŒæœåŠ¡å™¨ä¸å…·å¤‡å®Œæˆè¯·æ±‚çš„åŠŸèƒ½ã€‚ ä¾‹å¦‚ï¼ŒæœåŠ¡å™¨æ— æ³•è¯†åˆ«è¯·æ±‚æ–¹æ³•æ—¶å¯èƒ½ä¼šè¿”å›æ­¤ä»£ç  502 - ç½‘å…³é”™è¯¯ ï¼ŒæœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°æ— æ•ˆå“åº” 503 - æœåŠ¡ä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨ç›®å‰æ— æ³•ä½¿ç”¨ï¼Œé€šå¸¸ï¼Œè¿™åªæ˜¯æš‚æ—¶çŠ¶æ€ 504 - ç½‘å…³è¶…æ—¶ï¼Œ æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†ï¼Œä½†æ˜¯æ²¡æœ‰åŠæ—¶ä»ä¸Šæ¸¸æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ 505 - HTTP ç‰ˆæœ¬ä¸å—æ”¯æŒï¼Œ æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚ä¸­æ‰€ç”¨çš„ HTTP åè®®ç‰ˆæœ¬ æœåŠ¡ç«¯ 2xx - å®¢æˆ·ç«¯è¯·æ±‚å·²æˆåŠŸã€‚ 200 - æœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ã€‚ é€šå¸¸ï¼Œè¿™è¡¨ç¤ºæœåŠ¡å™¨æä¾›äº†è¯·æ±‚çš„ç½‘é¡µ 201 - å·²åˆ›å»ºï¼Œè¯·æ±‚æˆåŠŸå¹¶ä¸”æœåŠ¡å™¨åˆ›å»ºäº†æ–°çš„èµ„æº 202 - å·²æ¥å—ï¼Œä½†å°šæœªå¤„ç† 203 - éæƒå¨æ€§ä¿¡æ¯ï¼ŒæœåŠ¡å™¨å·²æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†è¿”å›çš„ä¿¡æ¯å¯èƒ½æ¥è‡ªå¦ä¸€æ¥æº 204 - æ— å†…å®¹ï¼ŒæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ 205 - é‡ç½®å†…å®¹ï¼ŒæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†è¯·æ±‚ï¼Œä½†æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ 206 - éƒ¨åˆ†å†…å®¹ï¼ŒæœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ† GET è¯·æ±‚ 3xx - é‡å®šå‘ 302 - å¯¹è±¡å·²ç§»åŠ¨ 304 - æœªä¿®æ”¹ 307 - ä¸´æ—¶é‡å®šå‘ é™„ä¸Šå…¨éƒ¨çŠ¶æ€ç ï¼šHTTP response codes","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"javascriptå¾ªç¯ä¸é—­åŒ…","slug":"javascriptå¾ªç¯ä¸é—­åŒ…","date":"2017-11-08T10:54:53.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/11/08/javascriptå¾ªç¯ä¸é—­åŒ…/","link":"","permalink":"http://yoursite.com/2017/11/08/javascriptå¾ªç¯ä¸é—­åŒ…/","excerpt":"","text":"å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼Œæ¸…æ™°åœ°å±•ç¤ºäº†é—­åŒ…ï¼š 123456789function foo() &#123; var a = 2; function bar() &#123; console.log(a); &#125; return bar;&#125;var baz = foo();baz(); // 2 â€”â€” è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœã€‚ å‡½æ•° bar() çš„è¯æ³•ä½œç”¨åŸŸèƒ½å¤Ÿè®¿é—® foo() çš„å†…éƒ¨ä½œç”¨åŸŸã€‚ç„¶åæˆ‘ä»¬å°† bar() å‡½æ•°æœ¬èº«å½“ä½œä¸€ä¸ªå€¼ç±»å‹è¿›è¡Œä¼ é€’ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† bar æ‰€å¼•ç”¨çš„å‡½æ•°å¯¹è±¡æœ¬èº«å½“ä½œè¿”å›å€¼ã€‚åœ¨ foo() æ‰§è¡Œåï¼Œå…¶è¿”å›å€¼ï¼ˆä¹Ÿå°±æ˜¯å†…éƒ¨çš„ bar() å‡½æ•°ï¼‰èµ‹å€¼ç»™å˜é‡ baz å¹¶è°ƒç”¨ baz() ï¼Œå®é™…ä¸Šåªæ˜¯é€šè¿‡ä¸åŒçš„æ ‡è¯†ç¬¦å¼•ç”¨è°ƒç”¨äº†å†…éƒ¨çš„å‡½æ•° bar() ã€‚bar() æ˜¾ç„¶å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œã€‚ä½†æ˜¯åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚åœ¨ foo() æ‰§è¡Œåï¼Œé€šå¸¸ä¼šæœŸå¾… foo() çš„æ•´ä¸ªå†…éƒ¨ä½œç”¨åŸŸéƒ½è¢«é”€æ¯ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“å¼•æ“æœ‰åƒåœ¾å›æ”¶å™¨ç”¨æ¥é‡Šæ”¾ä¸å†ä½¿ç”¨çš„å†…å­˜ç©ºé—´ã€‚ç”±äºçœ‹ä¸Šå» foo() çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚äº‹å®ä¸Šå†…éƒ¨ä½œç”¨åŸŸä¾ç„¶å­˜åœ¨ï¼Œå› æ­¤æ²¡æœ‰è¢«å›æ”¶ã€‚è°åœ¨ä½¿ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸï¼ŸåŸæ¥æ˜¯ bar() æœ¬èº«åœ¨ä½¿ç”¨ã€‚æ‹œ bar() æ‰€å£°æ˜çš„ä½ç½®æ‰€èµï¼Œå®ƒæ‹¥æœ‰æ¶µç›– foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› bar() åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚bar() ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚ è¿™ä¸ªå‡½æ•°åœ¨å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹è¢«è°ƒç”¨ã€‚é—­åŒ…ä½¿å¾—å‡½æ•°å¯ä»¥ç»§ç»­è®¿é—®å®šä¹‰æ—¶çš„è¯æ³•ä½œç”¨åŸŸã€‚ è¦è¯´æ˜é—­åŒ…ï¼Œ for å¾ªç¯æ˜¯æœ€å¸¸è§çš„ä¾‹å­ã€‚ 12345for (var i = 1; i &lt;= 5; i++) &#123; setTimeout(function timer() &#123; console.log(i); &#125;, i * 1000);&#125; æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯¹è¿™æ®µä»£ç è¡Œä¸ºçš„é¢„æœŸæ˜¯åˆ†åˆ«è¾“å‡ºæ•°å­— 1~5ï¼Œæ¯ç§’ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªã€‚ä½†å®é™…ä¸Šï¼Œè¿™æ®µä»£ç åœ¨è¿è¡Œæ—¶ä¼šä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡è¾“å‡ºäº”æ¬¡ 6ã€‚ ä»”ç»†æƒ³ä¸€ä¸‹ï¼Œå»¶è¿Ÿå‡½æ•°çš„å›è°ƒä¼šåœ¨å¾ªç¯ç»“æŸæ—¶æ‰æ‰§è¡Œã€‚äº‹å®ä¸Šï¼Œå½“å®šæ—¶å™¨è¿è¡Œæ—¶å³ä½¿æ¯ä¸ªè¿­ä»£ä¸­æ‰§è¡Œçš„æ˜¯ setTimeout(.., 0) ï¼Œæ‰€æœ‰çš„å›è°ƒå‡½æ•°ä¾ç„¶æ˜¯åœ¨å¾ªç¯ç»“æŸåæ‰ä¼šè¢«æ‰§è¡Œï¼Œå› æ­¤ä¼šæ¯æ¬¡è¾“å‡ºä¸€ä¸ª 6 å‡ºæ¥ã€‚ ç¼ºé™·æ˜¯æˆ‘ä»¬è¯•å›¾å‡è®¾å¾ªç¯ä¸­çš„æ¯ä¸ªè¿­ä»£åœ¨è¿è¡Œæ—¶éƒ½ä¼šç»™è‡ªå·±â€œæ•è·â€ä¸€ä¸ª i çš„å‰¯æœ¬ã€‚ä½†æ˜¯æ ¹æ®ä½œç”¨åŸŸçš„å·¥ä½œåŸç†ï¼Œå®é™…æƒ…å†µæ˜¯å°½ç®¡å¾ªç¯ä¸­çš„äº”ä¸ªå‡½æ•°æ˜¯åœ¨å„ä¸ªè¿­ä»£ä¸­åˆ†åˆ«å®šä¹‰çš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½è¢«å°é—­åœ¨ä¸€ä¸ªå…±äº«çš„å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œå› æ­¤å®é™…ä¸Šåªæœ‰ä¸€ä¸ª i ã€‚ æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹é€šè¿‡å£°æ˜å¹¶ç«‹å³æ‰§è¡Œä¸€ä¸ªå‡½æ•°æ¥åˆ›å»ºä½œç”¨åŸŸ 1234567for (var i = 1; i &lt;= 5; i++) &#123; (function () &#123; setTimeout(function timer() &#123; console.log(i); &#125;, i * 1000); &#125;)();&#125; è¿™æ ·ä¸è¡Œã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç°åœ¨æ˜¾ç„¶æ‹¥æœ‰æ›´å¤šçš„è¯æ³•ä½œç”¨åŸŸäº†ã€‚çš„ç¡®æ¯ä¸ªå»¶è¿Ÿå‡½æ•°éƒ½ä¼šå°† IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰ åœ¨æ¯æ¬¡è¿­ä»£ä¸­åˆ›å»ºçš„ä½œç”¨åŸŸå°é—­èµ·æ¥ã€‚å¦‚æœä½œç”¨åŸŸæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆä»…ä»…å°†å®ƒä»¬è¿›è¡Œå°é—­æ˜¯ä¸å¤Ÿçš„ã€‚ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ IIFE åªæ˜¯ä¸€ä¸ªä»€ä¹ˆéƒ½æ²¡æœ‰çš„ç©ºä½œç”¨åŸŸã€‚å®ƒéœ€è¦åŒ…å«ä¸€ç‚¹å®è´¨å†…å®¹æ‰èƒ½ä¸ºæˆ‘ä»¬æ‰€ç”¨ã€‚å®ƒéœ€è¦æœ‰è‡ªå·±çš„å˜é‡ï¼Œç”¨æ¥åœ¨æ¯ä¸ªè¿­ä»£ä¸­å‚¨å­˜ i çš„å€¼ï¼š 12345678for (var i = 1; i &lt;= 5; i++) &#123; (function () &#123; var j = i; setTimeout(function timer() &#123; console.log(j); &#125;, j * 1000); &#125;)();&#125; è¡Œäº†ï¼å®ƒèƒ½æ­£å¸¸å·¥ä½œäº†ï¼ã€‚ å¯ä»¥å¯¹è¿™æ®µä»£ç è¿›è¡Œä¸€äº›æ”¹è¿›ï¼š 1234567for (var i = 1; i &lt;= 5; i++) &#123; (function (j) &#123; setTimeout(function timer() &#123; console.log(j); &#125;, j * 1000); &#125;)(i);&#125; åœ¨è¿­ä»£å†…ä½¿ç”¨ IIFE ä¼šä¸ºæ¯ä¸ªè¿­ä»£éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œä½¿å¾—å»¶è¿Ÿå‡½æ•°çš„å›è°ƒå¯ä»¥å°†æ–°çš„ä½œç”¨åŸŸå°é—­åœ¨æ¯ä¸ªè¿­ä»£å†…éƒ¨ï¼Œæ¯ä¸ªè¿­ä»£ä¸­éƒ½ä¼šå«æœ‰ä¸€ä¸ªå…·æœ‰æ­£ç¡®å€¼çš„å˜é‡ä¾›æˆ‘ä»¬è®¿é—®ã€‚ ä»”ç»†æ€è€ƒæˆ‘ä»¬å¯¹å‰é¢çš„è§£å†³æ–¹æ¡ˆçš„åˆ†æã€‚æˆ‘ä»¬ä½¿ç”¨ IIFE åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸã€‚æ¢å¥è¯è¯´ï¼Œæ¯æ¬¡è¿­ä»£æˆ‘ä»¬éƒ½éœ€è¦ä¸€ä¸ªå—ä½œç”¨åŸŸã€‚ let å£°æ˜ï¼Œå¯ä»¥ç”¨æ¥åŠ«æŒå—ä½œç”¨åŸŸï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå—ä½œç”¨åŸŸä¸­å£°æ˜ä¸€ä¸ªå˜é‡ã€‚æœ¬è´¨ä¸Šè¿™æ˜¯å°†ä¸€ä¸ªå—è½¬æ¢æˆä¸€ä¸ªå¯ä»¥è¢«å…³é—­çš„ä½œç”¨åŸŸã€‚å› æ­¤ï¼Œä¸‹é¢çš„ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼š 123456for (var i = 1; i &lt;= 5; i++) &#123; let j = i; // æ˜¯çš„ï¼Œé—­åŒ…çš„å—ä½œç”¨åŸŸï¼ setTimeout(function timer() &#123; console.log(j); &#125;, j * 1000);&#125; ä½†æ˜¯ï¼Œè¿™è¿˜ä¸æ˜¯å…¨éƒ¨ï¼for å¾ªç¯å¤´éƒ¨çš„ let å£°æ˜è¿˜ä¼šæœ‰ä¸€ä¸ªç‰¹æ®Šçš„è¡Œä¸ºã€‚è¿™ä¸ªè¡Œä¸ºæŒ‡å‡ºå˜é‡åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ­¢è¢«å£°æ˜ä¸€æ¬¡ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šå£°æ˜ã€‚éšåçš„æ¯ä¸ªè¿­ä»£éƒ½ä¼šä½¿ç”¨ä¸Šä¸€ä¸ªè¿­ä»£ç»“æŸæ—¶çš„å€¼æ¥åˆå§‹åŒ–è¿™ä¸ªå˜é‡ã€‚ 12345for (let i = 1; i &lt;= 5; i++) &#123; setTimeout(function timer() &#123; console.log(i); &#125;, i * 1000);&#125; è¿™æ ·ï¼Œé—®é¢˜è§£å†³äº†ï¼","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"è®°ä¸€æ¬¡ç®¡ç†ç³»ç»Ÿå’Œè·¯ç”±ç³»ç»Ÿçš„æ•´åˆ","slug":"è®°ä¸€æ¬¡ç®¡ç†ç³»ç»Ÿå’Œè·¯ç”±ç³»ç»Ÿçš„æ•´åˆ","date":"2017-09-28T10:58:27.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/09/28/è®°ä¸€æ¬¡ç®¡ç†ç³»ç»Ÿå’Œè·¯ç”±ç³»ç»Ÿçš„æ•´åˆ/","link":"","permalink":"http://yoursite.com/2017/09/28/è®°ä¸€æ¬¡ç®¡ç†ç³»ç»Ÿå’Œè·¯ç”±ç³»ç»Ÿçš„æ•´åˆ/","excerpt":"","text":"éœ€æ±‚ï¼šæ•´åˆç®¡ç†ç³»ç»Ÿå’Œè·¯ç”±ç³»ç»ŸUIï¼šåŒ Ant Design Pro \b åˆ†æç”±äºå·¦ä¾§ç®¡ç†èœå•å†…å®¹åœ¨è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šï¼Œè€Œä¸”ç‚¹å‡»èœå•è¦å’Œå³ä¾§å†…å®¹åŒºè”åŠ¨ï¼Œåœ°å€æ ä¹Ÿè¦æœ‰ç›¸åº”çš„æ”¹å˜ï¼Œè€Œç›®å‰å·²æœ‰çš„è·¯ç”±ç³»ç»Ÿéƒ½æ˜¯è¦è¿è¡Œä¹‹å‰è¦ç¡®å®šå…·ä½“çš„è·¯ç”±ç»„å»ºï¼Œå› æ­¤é‡‡ç”¨ h5 çš„ history å’Œ ä¼ ç»Ÿçš„ document.location ç»“åˆçš„æ–¹å¼å®ç°è·¯ç”±ç³»ç»Ÿï¼›æ•´ä¸ªé¡¹ç›®çš„æ•°æ®ç®¡ç†åˆ™å› ä¸ºè€ƒè™‘åˆ°å·¦ä¾§èœå•å¯¹åº”çš„ç»„ä»¶å¯èƒ½ä¼šä½¿ç”¨åŒ…æ‹¬ redux/mbox/dva/kao ä¹‹ç±»çš„æ¡†æ¶ï¼Œå¦‚æœä¹Ÿä½¿ç”¨æ¡†æ¶çš„è¯ï¼Œå¯èƒ½ä¼šå¼•èµ·å†²çªï¼Œæ•…é€šè¿‡ react çš„ context æ¥å®ç°ã€‚ è·¯ç”±ç³»ç»Ÿ router.js1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889let instance = undefined;class Router &#123; constructor() &#123; if (!instance) &#123; this.history = window.history; this.location = window.location; instance = this; &#125; return instance; &#125; goBack = (cb) =&gt; &#123; this.history.back(); cb &amp;&amp; cb(); &#125; goForward = (cb) =&gt; &#123; this.history.forward(); cb &amp;&amp; cb(); &#125; go = (num, cb) =&gt; &#123; this.history.go(num); cb &amp;&amp; cb(); &#125; pushState = (url, state, cb) =&gt; &#123; url = url || ''; // åŠ  #ï¼Œä»¥ hash çš„æ–¹å¼æ”¹å˜ urlï¼›å¦‚æœä¸åŠ ï¼Œç›´æ¥ä»¥ '/abc' æ›´æ”¹ï¼Œåˆ·æ–°ä¼šæŠ¥é”™ï¼Œè¯·æ±‚ä¸åˆ°èµ„æºï¼ˆjs,css,Â·Â·Â·ï¼‰ url = url[0] === '/' ? `#$&#123;url&#125;` : `/#$&#123;url&#125;`; this.history.pushState(state || null, '', url); cb &amp;&amp; cb(); &#125; replaceState = (url, state, cb) =&gt; &#123; url = url || '/'; url = url[0] === '/' ? `#$&#123;url&#125;` : `/#$&#123;url&#125;`; this.history.replaceState(state || null, '', url); cb &amp;&amp; cb(); &#125; currentState = () =&gt; &#123; return this.history.state; &#125; currentUrl = () =&gt; &#123; let url = this.location.hash.replace('#', ''); if (url[0] === '/') &#123; url = url.replace('/', ''); &#125; return url; &#125; rootUrl = () =&gt; &#123; return this.location.host; &#125; originUrl = () =&gt; &#123; return this.location.origin; &#125; fullUrl = () =&gt; &#123; return this.location.href; &#125; historyLength = () =&gt; &#123; return this.history.length; &#125;&#125;/** * æ‹¦æˆªå™¨ æ‹¦æˆªè¯»å†™æƒé™ */const handler = &#123; set(target, key, value) &#123; throw new Error(`Setting the $&#123;key&#125; prototype is forbidden`); &#125;, deleteProperty(target, key) &#123; throw new Error(`Deleting the $&#123;key&#125; prototype is forbidden`); &#125;, defineProperty (target, key, descriptor) &#123; throw new Error(`Defining the $&#123;key&#125; prototype is forbidden`); &#125;, setPrototypeOf (target, proto) &#123; throw new Error('Changing the prototype is forbidden'); &#125;&#125;;const routerInstance = new Proxy(new Router(), handler); è·¯ç”±è£…é¥°å‡½æ•° withRouter.js12345678910111213141516171819202122232425262728293031323334353637383940414243const withRouter = (config = &#123;&#125;) =&gt; (WrapComponent) =&gt; &#123; return class Component extends React.Component &#123; constructor(props) &#123; super(props); this.state = &#123; data: &#123;&#125; &#125;; &#125; componentDidMount() &#123; config.listenPopState === true &amp;&amp; window.addEventListener('popstate', this.handlePopState); &#125; handlePopState = (data) =&gt; &#123; this.setState(&#123;data: data&#125;); &#125; componentWillUnmount() &#123; config.listenPopState === true &amp;&amp; window.removeEventListener('popstate', this.handlePopState); &#125; render() &#123; const router = &#123; go: routerInstance.go, goBack: routerInstance.goBack, fullUrl: routerInstance.fullUrl, rootUrl: routerInstance.rootUrl, originUrl: routerInstance.originUrl, goForward: routerInstance.goForward, pushState: routerInstance.pushState, currentUrl: routerInstance.currentUrl, replaceState: routerInstance.replaceState, currentState: routerInstance.currentState, historyLength: routerInstance.historyLength &#125;; return React.createElement(WrapComponent, &#123; routerData: this.state.data, router: new Proxy(router, handler),// handler ä¸Šé¢å®šä¹‰çš„æ‹¦æˆªå™¨ ...this.props &#125;); &#125; &#125;;&#125;; å…¥å£ç»„å»º App.js123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158import React from 'react';import PropTypes from 'prop-types';import &#123;Layout&#125; from 'antd';import GYSider from './GYSider';import GYHeader from './GYHeader';import GYContent from './GYContent';import Test_1 from '../app/Test_1';import Test_2 from '../app/Test_2';import Test_3 from '../app/Test_3';import Test_1_1_1 from '../app/Test_1_1_1';import &#123;withRouter&#125; from '../util/router';import Util from '../util/Util';const &#123;Header, Sider, Content&#125; = Layout;@withRouter()class App extends React.Component &#123; constructor(props) &#123; super(props); const propsState = props.initialState || &#123;&#125;; const initialState = &#123; menuList: [ &#123; path: 'test_1', icon: 'user', text: 'test_1', component: Test_1, children: [ &#123; path: 'test_1/test_1_1', text: 'test_1_1', children: [ &#123; path: 'test_1/test_1_1/test_1_1_1', component: Test_1_1_1, text: 'test_1_1_1' &#125; ] &#125; ] &#125;, &#123; path: 'test_2', icon: 'setting', text: 'test_2', component: Test_2 &#125;, &#123; path: 'test_3', icon: 'logout', text: 'test_3', component: Test_3 &#125; ] &#125;; this.state = &#123; store: &#123; menuList: initialState.menuList.concat(propsState.menuList || []) &#125;, collapsed: false, currentPath: '', currentComponent: GYContent &#125;; this.getAllComponent(this.state.store.menuList); &#125; /** * ä¿å­˜æ‰€æœ‰çš„è·¯ç”±å¯¹åº”çš„ç»„ä»¶ */ getAllComponent = (menuList = []) =&gt; &#123; this.allComponent = this.allComponent || new Map(); menuList.forEach(val =&gt; &#123; if (val.path &amp;&amp; Util.isReactComponent(val.component)) &#123; this.allComponent.set(val.path, val.component); &#125; if (Util.isArray(val.children)) &#123; this.getAllComponent(val.children); &#125; &#125;); &#125; static contextTypes = &#123; store: PropTypes.object, onClickAction: PropTypes.func &#125; static childContextTypes = &#123; store: PropTypes.object.isRequired, onClickAction: PropTypes.func.isRequired &#125; /** * å­ç»„ä»¶è·å– store */ getChildContext() &#123; return &#123; store: this.state.store, onClickAction: this.handleClickAction &#125;; &#125; /** * æ›´æ–° store æ—¶éœ€è¦è¿”å›åˆå¹¶ä¹‹åçš„æ•°æ® */ handleClickAction = (data) =&gt; &#123; this.setState(Object.assign(this.state, data)); &#125; componentWillMount() &#123; // åˆ·æ–°æµè§ˆå™¨ï¼Œè·³è½¬åˆ°ç›¸åº”é¡µé¢ const currentPath = this.state.currentPath; const documentHref = this.props.router.currentUrl(); if (currentPath !== documentHref &amp;&amp; this.allComponent.has(documentHref)) &#123; this.setState(&#123; currentComponent: this.allComponent.get(documentHref) &#125;); &#125; &#125; onToggle = () =&gt; &#123; this.setState(&#123; collapsed: !this.state.collapsed &#125;); &#125; onCollapse = () =&gt; &#123; console.log('onCollapse'); &#125; render() &#123; const Component = this.state.currentComponent; return ( &lt;Layout className='gy-app-view'&gt; &lt;Sider collapsible breakpoint=\"md\" width=&#123;256&#125; collapsed=&#123;this.state.collapsed&#125; trigger=&#123;null&#125; onCollapse=&#123;this.onCollapse&#125; &gt; &lt;GYSider/&gt; &lt;/Sider&gt; &lt;Layout&gt; &lt;Header className='header'&gt; &lt;GYHeader collapsed=&#123;this.state.collapsed&#125; onToggle=&#123;this.onToggle&#125;/&gt; &lt;/Header&gt; &lt;Content className='gy-content'&gt; &lt;Component/&gt; &lt;/Content&gt; &lt;/Layout&gt; &lt;/Layout&gt; ); &#125;&#125;export default App; ä¾§è¾¹æ ç»„ä»¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586import React, &#123;Component&#125; from 'react';import &#123;Menu, Icon&#125; from 'antd';const SubMenu = Menu.SubMenu;import Util from '../util/Util';import &#123;withRouter&#125; from '../util/router';import connectStore from '../util/connectStore';@withRouter() // æ¥å…¥è·¯ç”±@connectStore // æ¥å…¥ storeclass GYSider extends Component &#123; constructor(props) &#123; super(props); &#125; componentWillReceiveProps(nextProps, nextContext) &#123; console.log('ç‚¹å‡» subMenu æ›´æ–° store', nextContext.store); &#125; onMenuClick = (&#123;item, key, keyPath&#125;) =&gt; &#123; let self = this; const path = item.props.path; const currentUrl = this.props.router.currentUrl() || ''; path &amp;&amp; path !== currentUrl &amp;&amp; item.props.component &amp;&amp; self.props.router.pushState(`/$&#123;path&#125;`, &#123;path: `/$&#123;path&#125;`&#125;, () =&gt; &#123; self.context.onClickAction(&#123; currentPath: path, currentComponent: item.props.component &#125;); &#125;); &#125; /** * æ›´æ–° store ç¤ºä¾‹ */ onSubMenuClick = (&#123;key, domEvent&#125;) =&gt; &#123; let store = this.context.store; this.context.onClickAction(&#123;store: Object.assign(store, &#123;[key]: key&#125;)&#125;); &#125; createMenu = (arr = []) =&gt; &#123; return arr.map &amp;&amp; arr.map(val =&gt; &#123; if (!val.text) &#123; return undefined; &#125; else &#123; const key = val.path || Util.generateKey(); return Util.isArray(val.children) ? &lt;SubMenu key=&#123;key&#125; onTitleClick=&#123;this.onSubMenuClick&#125; title=&#123;&lt;span&gt;&#123;val.icon &amp;&amp; &lt;Icon type=&#123;`$&#123;val.icon&#125;`&#125;/&gt;&#125; &lt;span&gt; &#123;val.text&#125; &lt;/span&gt; &lt;/span&gt;&#125;&gt; &#123;this.createMenu(val.children)&#125; &lt;/SubMenu&gt; : &lt;Menu.Item path=&#123;val.path&#125; key=&#123;key&#125; component=&#123;val.component&#125;&gt; &#123;val.icon &amp;&amp; &lt;Icon type=&#123;`$&#123;val.icon&#125;`&#125;/&gt;&#125; &lt;span&gt; &#123;val.text&#125; &lt;/span&gt; &lt;/Menu.Item&gt;; &#125; &#125;).filter(val =&gt; val !== undefined); &#125; render() &#123; return ( &lt;div&gt; &lt;div className='logo'&gt;&lt;/div&gt; &lt;Menu theme=\"dark\" mode=\"inline\" onClick=&#123;this.onMenuClick&#125; style=&#123;&#123;margin: '16px 0', width: '100%'&#125;&#125; &gt; &#123;this.createMenu(this.context.store.menuList)&#125; &lt;/Menu&gt; &lt;/div&gt; ); &#125;&#125;export default GYSider; æ¥å…¥ store è£…é¥°å‡½æ•° connectStore.js123456789101112import PropTypes from 'prop-types';export default function connectStore(Component) &#123; if (!Component || typeof Component !== 'function') &#123; console.error(`$&#123;Component &amp;&amp; Component.name&#125; is not a class`); return; &#125; Component.contextTypes = &#123; store: PropTypes.object, onClickAction: PropTypes.func &#125;;&#125; ä½¿ç”¨ç¤ºä¾‹1234567891011121314151617181920212223242526272829303132333435363738import React, &#123;Component&#125; from 'react';import ä¸Šé¢çš„å…¥å£ç»„å»º Appimport UMD from './UMD';class WrapView extends Component &#123; constructor(props) &#123; super(props); &#125; render() &#123; let initialState = &#123; menuList: [ &#123; path: 'umd', //å¯¹åº”çš„åœ°å€æ  url icon: 'setting', //ä¾§è¾¹æ çš„æ˜¾ç¤ºå›¾æ ‡ text: 'umd', //ä¾§è¾¹æ çš„æ˜¾ç¤ºæ–‡å­— component: UMD //ç‚¹å‡»æ—¶å¯¹åº”çš„å³ä¾§å†…å®¹åŒºç»„ä»¶ &#125; ] &#125;; return ( &lt;App initialState=&#123;initialState&#125;/&gt; ); &#125;&#125;export default WrapView;Â·Â·Â·import React from 'react';import &#123;render&#125; from 'react-dom';import WrapView from './app/components/WrapView';/** * Main App View */render(&lt;WrapView /&gt;, document.getElementById('app')); æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡ context è¾¾åˆ°ç±»ä¼¼äº redux ç®¡ç†æ•°æ®çš„ç›®çš„ï¼ŒApp.js æä¾› storeï¼ˆå­˜å‚¨æ•°æ®ï¼‰ å’Œ onClickActionï¼ˆä¿®æ”¹ storeï¼‰ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡ connectStore è£…é¥°å‡½æ•°è·å–åˆ° store å’Œ onClickActionï¼Œç‚¹å‡»ä¾§è¾¹æ çš„æ—¶å€™ï¼Œå…ˆå–åˆ°è®¾ç½®çš„ path å’Œ componentï¼Œç„¶åé€šè¿‡ onCLickAction è®¾ç½® currentComponent å’Œ currentPathï¼Œç„¶å setState å³å¯å®ç°éœ€æ±‚ã€‚ç›®å‰è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯åˆ·æ–°æµè§ˆå™¨çš„æ—¶å€™å¦‚ä½•è·³è½¬åˆ°ç›¸åº”çš„é¡µé¢å‘¢ï¼Ÿå¯ä»¥åœ¨ App.js é‡Œé¢å…ˆè·å–åˆ°æ‰€æœ‰çš„ component å’Œ path ç„¶åä¿å­˜èµ·æ¥ï¼š 1234567891011121314/*** ä¿å­˜æ‰€æœ‰çš„è·¯ç”±å¯¹åº”çš„ç»„ä»¶*/getAllComponent = (menuList = []) =&gt; &#123; this.allComponent = this.allComponent || new Map(); menuList.forEach(val =&gt; &#123; if (val.path &amp;&amp; Util.isReactComponent(val.component)) &#123; this.allComponent.set(val.path, val.component); &#125; if (Util.isArray(val.children)) &#123; this.getAllComponent(val.children); &#125; &#125;);&#125; å†åœ¨ App.js é€šè¿‡ä»¥ä¸‹ä»£ç è·³è½¬ï¼š 12345678910componentWillMount() &#123; // åˆ·æ–°æµè§ˆå™¨ï¼Œè·³è½¬åˆ°ç›¸åº”é¡µé¢ const currentPath = this.state.currentPath; const documentHref = this.props.router.currentUrl(); if (currentPath !== documentHref &amp;&amp; this.allComponent.has(documentHref)) &#123; this.setState(&#123; currentComponent: this.allComponent.get(documentHref) &#125;); &#125;&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"Spring Boot å¸¸ç”¨æ³¨è§£","slug":"Spring-Boot-å¸¸ç”¨æ³¨è§£","date":"2017-08-12T10:59:01.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/08/12/Spring-Boot-å¸¸ç”¨æ³¨è§£/","link":"","permalink":"http://yoursite.com/2017/08/12/Spring-Boot-å¸¸ç”¨æ³¨è§£/","excerpt":"","text":"å¸¸è§æ³¨è§£ @SpringBootApplication ç”³æ˜è®©spring bootè‡ªåŠ¨ç»™ç¨‹åºè¿›è¡Œå¿…è¦çš„é…ç½®ï¼Œ ç­‰ä»·äºä»¥é»˜è®¤å±æ€§ä½¿ç”¨@Configurationï¼Œ@EnableAutoConfigurationå’Œ@ComponentScan @Configuration ç›¸å½“äºæŠŠè¯¥ç±»ä½œä¸ºspringçš„xmlé…ç½®æ–‡ä»¶ä¸­çš„ï¼Œä½œç”¨ä¸ºï¼šé…ç½®springå®¹å™¨(åº”ç”¨ä¸Šä¸‹æ–‡) å‡¡æ˜¯è¢«Springç®¡ç†çš„ç±»ï¼Œå®ç°æ¥å£ EnvironmentAware é‡å†™æ–¹æ³• setEnvironment å¯ä»¥åœ¨å·¥ç¨‹å¯åŠ¨æ—¶ï¼Œ è·å–åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡å’Œapplicationé…ç½®æ–‡ä»¶ä¸­çš„å˜é‡ @EnableScheduling åœ¨ Spring Boot çš„é…ç½®ç±»ä¸­ï¼Œæ ‡æ³¨ä¸Šè¿™ä¸ªæ³¨è§£ï¼Œå°±å¯ä»¥å¯¹é¡¹ç›®ä¸­çš„æ–¹æ³•æŸäº›æ–¹æ³•ä½¿ç”¨@Scheduleæ³¨è§£ï¼Œå°†å…¶å˜ä¸ºå®šæ—¶è‡ªåŠ¨æ‰§è¡Œã€‚ ä½†åªæœ‰ä¸¤ç§æ³¨è§£å…±åŒä½¿ç”¨æ—¶ï¼Œæ‰èƒ½è¾¾åˆ°æœ¬æ³¨è§£åº”æœ‰çš„ä½œç”¨ã€‚ @Qualifier é™å®šæè¿°ç¬¦é™¤äº†èƒ½æ ¹æ®åå­—è¿›è¡Œæ³¨å…¥ï¼Œä½†èƒ½è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶å¦‚ä½•é€‰æ‹©å€™é€‰è€… @ImportResource ç”¨æ¥åŠ è½½xmlé…ç½®æ–‡ä»¶ã€‚ @Autowired è‡ªåŠ¨å¯¼å…¥ä¾èµ–çš„bean @RestController è¿”å›jsonå­—ç¬¦ä¸²çš„æ•°æ®ï¼Œç›´æ¥å¯ä»¥ç¼–å†™RESTFulçš„æ¥å£ @ComponentScan è¡¨ç¤ºå°†è¯¥ç±»è‡ªåŠ¨å‘ç°ï¼ˆæ‰«æï¼‰å¹¶æ³¨å†Œä¸ºBeanï¼Œå¯ä»¥è‡ªåŠ¨æ”¶é›†æ‰€æœ‰çš„Springç»„ä»¶, åŒ…æ‹¬@Configurationç±»ã€‚æˆ‘ä»¬ç»å¸¸ä½¿ç”¨@ComponentScanæ³¨è§£æœç´¢beansï¼Œå¹¶ç»“åˆ@Autowiredæ³¨è§£å¯¼å…¥ã€‚ å¦‚æœæ²¡æœ‰é…ç½®çš„è¯ï¼ŒSpring Bootä¼šæ‰«æå¯åŠ¨ç±»æ‰€åœ¨åŒ…ä¸‹ä»¥åŠå­åŒ…ä¸‹çš„ä½¿ç”¨äº†@Service,@Repositoryç­‰æ³¨è§£çš„ç±»ã€‚ @ServletComponentScan springèƒ½å¤Ÿæ‰«æåˆ°è‡ªå·±ç¼–å†™çš„servletå’Œfilterï¼Œ SpringBootApplication ä¸Šä½¿ç”¨@ServletComponentScanæ³¨è§£åï¼ŒServletã€Filterã€Listenerï¼Œ å¯ä»¥ç›´æ¥é€šè¿‡ @WebServletã€@WebFilterã€@WebListener æ³¨è§£è‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€å…¶ä»–ä»£ç  @Import({DynamicDataSourceRegister.class}) æ³¨å†ŒåŠ¨æ€å¤šæ•°æ®æº @PropertySource(value = â€œclasspath:spring/config.propertiesâ€)é€šè¿‡@PropertySourceæ³¨è§£å°†propertiesé…ç½®æ–‡ä»¶ä¸­çš„å€¼å­˜å‚¨åˆ°Springçš„ Environmentä¸­ï¼ŒEnvironmentæ¥å£æä¾›æ–¹æ³•å»è¯»å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œå‚æ•°æ˜¯propertiesæ–‡ä»¶ä¸­å®šä¹‰çš„keyå€¼ã€‚ä¸Šé¢æ˜¯è¯»å–ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¦‚æœä½ æƒ³è¦è¯»å–å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¯·çœ‹ä¸‹é¢ä»£ç ç‰‡æ®µ@PropertySource(value = {â€œclasspath:spring/config.propertiesâ€,â€classpath:spring/news.propertiesâ€}) @EnableWebSocketMessageBroker è¡¨ç¤ºå¼€å¯ä½¿ç”¨STOMPåè®®æ¥ä¼ è¾“åŸºäºä»£ç†çš„æ¶ˆæ¯ï¼ŒBrokerå°±æ˜¯ä»£ç†çš„æ„æ€ã€‚ @Repository@Repositoryã€@Serviceã€@Controllerï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”å­˜å‚¨å±‚ Beanï¼Œä¸šåŠ¡å±‚ Beanï¼Œå’Œå±•ç¤ºå±‚ Beanï¼Œå°†ç±»æ ‡è¯†ä¸º Beanï¼›åˆ†åˆ«ç”¨äºè½¯ä»¶ç³»ç»Ÿçš„ä¸åŒå±‚æ¬¡ï¼š@Component æ˜¯ä¸€ä¸ªæ³›åŒ–çš„æ¦‚å¿µï¼Œä»…ä»…è¡¨ç¤ºä¸€ä¸ªç»„ä»¶ (Bean) ï¼Œå¯ä»¥ä½œç”¨åœ¨ä»»ä½•å±‚æ¬¡ã€‚@Service é€šå¸¸ä½œç”¨åœ¨ä¸šåŠ¡å±‚ï¼Œä½†æ˜¯ç›®å‰è¯¥åŠŸèƒ½ä¸ @Component ç›¸åŒã€‚@Constroller é€šå¸¸ä½œç”¨åœ¨æ§åˆ¶å±‚ï¼Œä½†æ˜¯ç›®å‰è¯¥åŠŸèƒ½ä¸ @Component ç›¸åŒã€‚é€šè¿‡åœ¨ç±»ä¸Šä½¿ç”¨ @Repositoryã€@Componentã€@Service å’Œ @Constroller æ³¨è§£ï¼ŒSpringä¼šè‡ªåŠ¨åˆ›å»ºç›¸åº”çš„ BeanDefinition å¯¹è±¡ï¼Œå¹¶æ³¨å†Œåˆ° ApplicationContext ä¸­ã€‚è¿™äº›ç±»å°±æˆäº† Spring å—ç®¡ç»„ä»¶ã€‚è¿™ä¸‰ä¸ªæ³¨è§£é™¤äº†ä½œç”¨äºä¸åŒè½¯ä»¶å±‚æ¬¡çš„ç±»ï¼Œå…¶ä½¿ç”¨æ–¹å¼ä¸ @Repository æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ @Value(â€œ${spring.datasource.url}â€) è·å– application é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡ @ConfigurationProperties è¯»å–applicationå±æ€§é…ç½®æ–‡ä»¶ä¸­çš„å±æ€§ @ControllerAdvice å…¨å±€å¼‚å¸¸å¤„ç†ç±»ï¼Œä»¥å°†å¯¹äºæ§åˆ¶å™¨çš„å…¨å±€é…ç½®æ”¾åœ¨åŒä¸€ä¸ªä½ç½®ã€‚ æ³¨è§£äº†@Controllerçš„ç±»çš„æ–¹æ³•å¯ä»¥ä½¿ç”¨@ExceptionHandlerã€@InitBinderã€@ModelAttributeæ³¨è§£åˆ°æ–¹æ³•ä¸Šã€‚ ControllerAdviceæ³¨è§£å°†ä½œç”¨åœ¨æ‰€æœ‰æ³¨è§£äº†@RequestMappingçš„æ§åˆ¶å™¨çš„æ–¹æ³•ä¸Š ExceptionHandlerï¼šç”¨äºå…¨å±€å¤„ç†æ§åˆ¶å™¨é‡Œçš„å¼‚å¸¸ã€‚ InitBinderï¼šç”¨æ¥è®¾ç½®WebDataBinderï¼Œç”¨äºè‡ªåŠ¨ç»‘å®šå‰å°è¯·æ±‚å‚æ•°åˆ°Modelä¸­ã€‚ ModelAttributeï¼šæœ¬æ¥ä½œç”¨æ˜¯ç»‘å®šé”®å€¼å¯¹åˆ°Modelä¸­ï¼Œæ­¤å¤„è®©å…¨å±€çš„@RequestMappingéƒ½èƒ½è·å¾—åœ¨æ­¤å¤„è®¾ç½®çš„é”®å€¼å¯¹ã€‚ @WebFilter å°†ä¸€ä¸ªå®ç°äº†javax.servlet.Filteræ¥å£çš„ç±»å®šä¹‰ä¸ºè¿‡æ»¤å™¨ å±æ€§filterNameå£°æ˜è¿‡æ»¤å™¨çš„åç§°,å¯é€‰ å±æ€§urlPatternsæŒ‡å®šè¦è¿‡æ»¤çš„URLæ¨¡å¼,ä¹Ÿå¯ä½¿ç”¨å±æ€§valueæ¥å£°æ˜.(æŒ‡å®šè¦è¿‡æ»¤çš„URLæ¨¡å¼æ˜¯å¿…é€‰å±æ€§) @Service å£°æ˜ç±»æ˜¯ä¸€ä¸ª beanï¼Œå…¶ä»–çš„ç±»æ‰å¯ä»¥ä½¿ç”¨ @Autowired å°†å…¶ä½œä¸ºä¸€ä¸ªæˆå‘˜å˜é‡è‡ªåŠ¨æ³¨å…¥ Zoo.java åœ¨ bean ä¸­çš„ id æ˜¯ â€œzooâ€ï¼Œå³ç±»åä¸”é¦–å­—æ¯å°å†™ @Scope(â€œprototypeâ€) Springé»˜è®¤äº§ç”Ÿçš„beanæ˜¯å•ä¾‹çš„ï¼Œâ€prototypeâ€ è¡¨ç¤ºåŸå‹å³æ¯æ¬¡éƒ½ä¼šnewä¸€ä¸ªæ–°çš„å‡ºæ¥ @Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Š(è¿”å›æŸä¸ªå®ä¾‹çš„æ–¹æ³•)ï¼Œä½œç”¨ä¸ºæ³¨å†Œbeanå¯¹è±¡ @Beanæ³¨è§£åœ¨è¿”å›å®ä¾‹çš„æ–¹æ³•ä¸Šï¼Œå¦‚æœæœªé€šè¿‡@BeanæŒ‡å®šbeançš„åç§°ï¼Œåˆ™é»˜è®¤ä¸æ ‡æ³¨çš„æ–¹æ³•åç›¸åŒï¼› @Beanæ³¨è§£é»˜è®¤ä½œç”¨åŸŸä¸ºå•ä¾‹singletonä½œç”¨åŸŸï¼Œå¯é€šè¿‡@Scope(â€œprototypeâ€)è®¾ç½®ä¸ºåŸå‹ä½œç”¨åŸŸï¼› æ—¢ç„¶@Beançš„ä½œç”¨æ˜¯æ³¨å†Œbeanå¯¹è±¡ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥ä½¿ç”¨@Componentã€@Controllerã€@Serviceã€@Ripositoryç­‰ æ³¨è§£æ³¨å†Œbeanï¼Œå½“ç„¶éœ€è¦é…ç½®@ComponentScanæ³¨è§£è¿›è¡Œè‡ªåŠ¨æ‰«æã€‚RestController ç›¸å…³ @RestController è¿”å›jsonå­—ç¬¦ä¸²çš„æ•°æ®ï¼Œç›´æ¥å¯ä»¥ç¼–å†™RESTFulçš„æ¥å£ï¼Œ@ResponseBodyå’Œ@Controllerçš„åˆé›† @PathVariable å½“ä½¿ç”¨@RequestMapping URI template æ ·å¼æ˜ å°„æ—¶ï¼Œå³ someUrl/{paramId}, è¿™æ—¶çš„paramIdå¯é€šè¿‡ @Pathvariableæ³¨è§£ç»‘å®šå®ƒä¼ è¿‡æ¥çš„å€¼åˆ°æ–¹æ³•çš„å‚æ•°ä¸Š @RequestHeader å¯ä»¥æŠŠRequestè¯·æ±‚headeréƒ¨åˆ†çš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Šå¦‚(@RequestHeader(&quot;Accept-Encoding&quot;) String encoding){}ã€‚ @CookieValue å¯ä»¥æŠŠRequest headerä¸­å…³äºcookieçš„å€¼ç»‘å®šåˆ°æ–¹æ³•çš„å‚æ•°ä¸Šå¦‚(@CookieValue(&quot;JSESSIONID&quot;) String cookie){}ã€‚ @RequestParam å¸¸ç”¨æ¥å¤„ç†ç®€å•ç±»å‹çš„ç»‘å®šï¼Œé€šè¿‡ Request.getParameter() è·å–çš„Stringå¯ç›´æ¥è½¬æ¢ä¸ºç®€å•ç±»å‹çš„æƒ…å†µï¼ˆ Stringâ€“&gt; ç®€å•ç±»å‹çš„è½¬æ¢æ“ä½œç”±ConversionServiceé…ç½®çš„è½¬æ¢å™¨æ¥å®Œæˆï¼‰ï¼›å› ä¸ºä½¿ç”¨request.getParameter()æ–¹å¼è·å–å‚æ•°ï¼Œæ‰€ ä»¥å¯ä»¥å¤„ç†get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œä¹Ÿå¯ä»¥å¤„ç†postæ–¹å¼ä¸­ body dataçš„å€¼ï¼› ç”¨æ¥å¤„ç†Content-Type: ä¸º application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œæäº¤æ–¹å¼GETã€POSTï¼› è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªå±æ€§ï¼š valueã€requiredï¼› valueç”¨æ¥æŒ‡å®šè¦ä¼ å…¥å€¼çš„idåç§°ï¼Œrequiredç”¨æ¥æŒ‡ç¤ºå‚æ•°æ˜¯å¦å¿…é¡»ç»‘å®šï¼› @RequestBody é€šè¿‡ä½¿ç”¨HandlerAdapteré»˜è®¤é…ç½®çš„HttpMessageConvertersæ¥è§£æRequestè¯·æ±‚çš„Bodyéƒ¨åˆ†æ•°æ®å¹¶å°†ç›¸åº”çš„æ•°æ®ç»‘å®šåˆ°Controllerä¸­æ–¹æ³•çš„å‚æ•°ä¸Šï¼Œå…¶å¸¸ç”¨æ¥å¤„ç†Content-Typeä¸æ˜¯application/x-www-form-urlencodedç¼–ç çš„å†…å®¹ï¼Œä¾‹å¦‚application/json, application/xmlç­‰ã€‚ å®ƒæ˜¯é€šè¿‡ä½¿ç”¨HandlerAdapter é…ç½®çš„HttpMessageConvertersæ¥è§£æpost data bodyï¼Œç„¶åç»‘å®šåˆ°ç›¸åº”çš„beanä¸Šçš„ã€‚ å› ä¸ºé…ç½®æœ‰FormHttpMessageConverterï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨æ¥å¤„ç† application/x-www-form-urlencodedçš„å†…å®¹ï¼Œå¤„ç†å®Œçš„ç»“æœæ”¾åœ¨ä¸€ä¸ªMultiValueMap&lt;String, String&gt;é‡Œï¼Œè¿™ç§æƒ…å†µåœ¨æŸäº›ç‰¹æ®Šéœ€æ±‚ä¸‹ä½¿ç”¨ã€‚ @SessionAttributes ç”¨æ¥ç»‘å®šHttpSessionä¸­çš„attributeå¯¹è±¡çš„å€¼ï¼Œä¾¿äºåœ¨æ–¹æ³•ä¸­çš„å‚æ•°é‡Œä½¿ç”¨ã€‚ è¯¥æ³¨è§£æœ‰valueã€typesä¸¤ä¸ªå±æ€§ï¼Œå¯ä»¥é€šè¿‡åå­—å’Œç±»å‹æŒ‡å®šè¦ä½¿ç”¨çš„attribute å¯¹è±¡ @ModelAttribute è¯¥æ³¨è§£æœ‰ä¸¤ä¸ªç”¨æ³•ï¼Œä¸€ä¸ªæ˜¯ç”¨äºæ–¹æ³•ä¸Šï¼Œä¸€ä¸ªæ˜¯ç”¨äºå‚æ•°ä¸Šï¼š ç”¨äºæ–¹æ³•ä¸Šæ—¶ï¼š é€šå¸¸ç”¨æ¥åœ¨å¤„ç†@RequestMappingä¹‹å‰ï¼Œä¸ºè¯·æ±‚ç»‘å®šéœ€è¦ä»åå°æŸ¥è¯¢çš„modelï¼› ç”¨äºå‚æ•°ä¸Šæ—¶ï¼š ç”¨æ¥é€šè¿‡åç§°å¯¹åº”ï¼ŒæŠŠç›¸åº”åç§°çš„å€¼ç»‘å®šåˆ°æ³¨è§£çš„å‚æ•°beanä¸Šï¼›è¦ç»‘å®šçš„å€¼æ¥æºäºï¼š @SessionAttributes å¯ç”¨çš„attribute å¯¹è±¡ä¸Šï¼› @ModelAttribute ç”¨äºæ–¹æ³•ä¸Šæ—¶æŒ‡å®šçš„modelå¯¹è±¡ï¼› ä¸Šè¿°ä¸¤ç§æƒ…å†µéƒ½æ²¡æœ‰æ—¶ï¼Œnewä¸€ä¸ªéœ€è¦ç»‘å®šçš„beanå¯¹è±¡ï¼Œç„¶åæŠŠrequestä¸­æŒ‰åç§°å¯¹åº”çš„æ–¹å¼æŠŠå€¼ç»‘å®šåˆ°beanä¸­ï¼Œ è¿™ç§æ–¹å¼å®é™…çš„æ•ˆæœå°±æ˜¯åœ¨è°ƒç”¨@RequestMappingçš„æ–¹æ³•ä¹‹å‰ï¼Œä¸ºrequestå¯¹è±¡çš„modelé‡Œputï¼ˆâ€œaccountâ€ï¼Œ Accountï¼‰ @Controller ç”¨äºå®šä¹‰æ§åˆ¶å™¨ç±»ï¼Œæ§åˆ¶å™¨è´Ÿè´£å°†ç”¨æˆ·å‘æ¥çš„URLè¯·æ±‚è½¬å‘åˆ°å¯¹åº”çš„æœåŠ¡æ¥å£ï¼ˆserviceå±‚ï¼‰ï¼Œ ä¸€èˆ¬è¿™ä¸ªæ³¨è§£åœ¨ç±»ä¸­ï¼Œé€šå¸¸æ–¹æ³•éœ€è¦é…åˆæ³¨è§£@RequestMappingJPA ç›¸å…³ @Entity æ³¨é‡Šå£°æ˜è¯¥ç±»ä¸ºæŒä¹…ç±»,æœ€å¥½å®ç°åºåˆ—åŒ–ï¼Œæ­¤æ—¶,é»˜è®¤æƒ…å†µä¸‹,æ‰€æœ‰çš„ç±»å±æ€§éƒ½ä¸ºæ˜ å°„åˆ°æ•°æ®è¡¨çš„æŒä¹…æ€§å­—æ®µ @Table(name=â€â€,catalog=â€â€,schema=â€â€) æŒä¹…æ€§æ˜ å°„çš„è¡¨,é€šå¸¸å’Œ@Entity é…åˆä½¿ç”¨ï¼Œåªèƒ½æ ‡æ³¨åœ¨å®ä½“çš„ class å®šä¹‰å¤„ï¼Œ è¡¨ç¤ºå®ä½“å¯¹åº”çš„æ•°æ®åº“è¡¨çš„ä¿¡æ¯ã€‚ name - å¯é€‰ï¼Œè¡¨ç¤ºè¡¨çš„åç§°ï¼Œé»˜è®¤åœ°ï¼Œè¡¨åå’Œå®ä½“åç§°ä¸€è‡´ï¼Œåªæœ‰åœ¨ä¸ä¸€è‡´çš„æƒ…å†µä¸‹æ‰éœ€è¦æŒ‡å®šè¡¨å catalog - å¯é€‰ï¼Œè¡¨ç¤ºCatalogåç§°ï¼Œé»˜è®¤ä¸º Catalog(â€œâ€). schema - å¯é€‰ , è¡¨ç¤º Schema åç§° , é»˜è®¤ä¸ºSchema(â€œâ€). @Id æ³¨é‡Šå¯ä»¥è¡¨æ˜å“ªç§å±æ€§æ˜¯è¯¥ç±»ä¸­çš„ç‹¬ç‰¹æ ‡è¯†ç¬¦(å³ç›¸å½“äºæ•°æ®è¡¨çš„ä¸»é”®)ã€‚ @GeneratedValue å®šä¹‰è‡ªåŠ¨å¢é•¿çš„ä¸»é”®çš„ç”Ÿæˆç­–ç•¥. @Transient å°†å¿½ç•¥è¿™äº›å­—æ®µå’Œå±æ€§,ä¸ç”¨æŒä¹…åŒ–åˆ°æ•°æ®åº“. @Temporal(TemporalType.TIMESTAMP) å£°æ˜æ—¶é—´æ ¼å¼ @Enumerated å£°æ˜æšä¸¾ @Version å£°æ˜æ·»åŠ å¯¹ä¹è§‚é”å®šçš„æ”¯æŒ @OneToOne å¯ä»¥å»ºç«‹å®ä½“beanä¹‹é—´çš„ä¸€å¯¹ä¸€çš„å…³è” @OneToMany å¯ä»¥å»ºç«‹å®ä½“beanä¹‹é—´çš„ä¸€å¯¹å¤šçš„å…³è” @ManyToOne å¯ä»¥å»ºç«‹å®ä½“beanä¹‹é—´çš„å¤šå¯¹ä¸€çš„å…³è” @ManyToMany å¯ä»¥å»ºç«‹å®ä½“beanä¹‹é—´çš„å¤šå¯¹å¤šçš„å…³è” @Formula ä¸€ä¸ªSQLè¡¨è¾¾å¼ï¼Œè¿™ç§å±æ€§æ˜¯åªè¯»çš„,ä¸åœ¨æ•°æ®åº“ç”Ÿæˆå±æ€§(å¯ä»¥ä½¿ç”¨sumã€averageã€maxç­‰) @OrderBy Manyç«¯æŸä¸ªå­—æ®µæ’åº(List) @Columnæ³¨è§£è®¾ç½®ï¼ŒåŒ…å«çš„è®¾ç½®å¦‚ä¸‹ nameï¼šå­—æ®µå uniqueï¼šæ˜¯å¦å”¯ä¸€ nullableï¼šæ˜¯å¦å¯ä»¥ä¸ºç©º inserttableï¼šæ˜¯å¦å¯ä»¥æ’å…¥ updateableï¼šæ˜¯å¦å¯ä»¥æ›´æ–° columnDefinition: å®šä¹‰å»ºè¡¨æ—¶åˆ›å»ºæ­¤åˆ—çš„DDL secondaryTable: ä»è¡¨åã€‚å¦‚æœæ­¤åˆ—ä¸å»ºåœ¨ä¸»è¡¨ä¸Šï¼ˆé»˜è®¤å»ºåœ¨ä¸»è¡¨ï¼‰ï¼Œè¯¥å±æ€§å®šä¹‰è¯¥åˆ—æ‰€åœ¨ä»è¡¨çš„åå­—ã€‚ @JoinColumn(name = â€œâ€, referencedColumnName = â€œâ€) è®¾ç½®å¯¹åº”æ•°æ®è¡¨çš„åˆ—åå’Œå¼•ç”¨çš„æ•°æ®è¡¨çš„åˆ—å @Lob æ³¨è§£å±æ€§å°†è¢«æŒä¹…åŒ–ä¸º Blog æˆ– Clob ç±»å‹,æ ¹æ®getæ–¹æ³•çš„è¿”å›å€¼ä¸åŒ,è‡ªåŠ¨è¿›è¡ŒClobå’ŒBlobçš„è½¬æ¢ã€‚å› ä¸ºè¿™ä¸¤ç§ç±»å‹çš„æ•°æ®ä¸€èˆ¬å ç”¨çš„å†…å­˜ç©ºé—´æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥é€šå¸¸ä½¿ç”¨å»¶è¿ŸåŠ è½½çš„æ–¹å¼ï¼Œä¸@Basicæ ‡è®°åŒæ—¶ä½¿ç”¨ï¼Œè®¾ç½®åŠ è½½æ–¹å¼ä¸ºFetchType.LAZYã€‚ Clobï¼ˆCharacter Large Ojectsï¼‰ç±»å‹æ˜¯é•¿å­—ç¬¦ä¸²ç±»å‹ï¼Œå…·ä½“çš„java.sql.Clob, Character[], char[] å’Œ java.lang.String å°†è¢«æŒä¹…åŒ–ä¸º Clob ç±»å‹ã€‚ Blobï¼ˆBinary Large Objectsï¼‰ç±»å‹æ˜¯å­—èŠ‚ç±»å‹ï¼Œå…·ä½“çš„java.sql.Blob, Byte[], byte[] å’Œ serializable type å°†è¢«æŒä¹…åŒ–ä¸º Blob ç±»å‹ã€‚ @Basic å®ä½“Beanä¸­æ‰€æœ‰çš„éStatic étransientçš„å±æ€§éƒ½å¯ä»¥è¢«æŒä¹…åŒ–ï¼Œæ²¡æœ‰å®šä¹‰æ³¨è§£å±æ€§çš„ç­‰ä»·äºåœ¨å…¶ä¸Šæ·»åŠ äº†@Basicæ³¨è§£ã€‚ é€šè¿‡@Basicæ³¨è§£å¯ä»¥å£°æ˜å±æ€§çš„è·å–ç­–ç•¥(lazyä¸å¦)ï¼Œé»˜è®¤çš„æ˜¯å³æ—¶è·å–(early fetch)ã€‚ é€šå¸¸ä¸éœ€è¦å¯¹ç®€å•å±æ€§è®¾ç½®å»¶è¿Ÿè·å–ï¼Œå¦‚éœ€è¦å®šä¹‰@Basic(fetch=FetchType.LAZY) åœ¨MySQLä¸­æ²¡æœ‰Clobï¼Œç”¨Textä»£æ›¿äº†ï¼Œè€Œä¸”åˆ†ä¸ºäº†tinytextï¼Œ textï¼Œmediumtextï¼Œlongtextã€‚Blobä¹ŸæŒ‰è¿™ç§æ–¹å¼åˆ†æˆäº†å››ç§ã€‚ @Transactionalæ³¨è§£ rollbackFor è¡¨ç¤ºå½“è¯¥æ–¹æ³•ä¸­æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸æ—¶æ•°æ®å›æ»š dontRollbackOn è¡¨ç¤ºå½“è¯¥æ–¹æ³•ä¸­æŠ›å‡ºæŒ‡å®šçš„å¼‚å¸¸æ—¶æ•°æ®ä¸å›æ»š hibernate-validator @size (min=3, max=20, message=â€ç”¨æˆ·åé•¿åº¦åªèƒ½åœ¨3-20ä¹‹é—´â€) @size (min=6, max=20, message=â€å¯†ç é•¿åº¦åªèƒ½åœ¨6-20ä¹‹é—´â€) @pattern (regexp=â€[a-za-z0-9._%+-]+@[a-za-z0-9.-]+\\.[a-za-z]{2,4}â€, message=â€é‚®ä»¶æ ¼å¼é”™è¯¯â€) @Length(min = 5, max = 20, message = â€œç”¨æˆ·åé•¿åº¦å¿…é¡»ä½äº5åˆ°20ä¹‹é—´â€) @Email(message = â€œæ¯”å¦‚è¾“å…¥æ­£ç¡®çš„é‚®ç®±â€) @NotNull(message = â€œç”¨æˆ·åç§°ä¸èƒ½ä¸ºç©ºâ€) @Max(value = 100, message = â€œå¹´é¾„ä¸èƒ½å¤§äº100å²â€) @Min(value= 18 ,message= â€œå¿…é¡»å¹´æ»¡18å²ï¼â€ ) @AssertTrue(message = â€œbln4 must is trueâ€) @AssertFalse(message = â€œblnf must is falaseâ€) @DecimalMax(value=â€100â€,message=â€decimæœ€å¤§å€¼æ˜¯100â€) @DecimalMin(value=â€100â€,message=â€decimæœ€å°å€¼æ˜¯100â€) @NotNull(message = â€œèº«ä»½è¯ä¸èƒ½ä¸ºç©ºâ€) @Pattern(regexp=â€^(\\d{18,18}|\\d{15,15}|(\\d{17,17}[x|X]))$â€, message=â€èº«ä»½è¯æ ¼å¼é”™è¯¯â€)@Service VS @Bean å’Œ @Configuration@Serviceå®é™…ä¸Šè¡¨ç¤ºäº†DDDä¸­çš„æ— çŠ¶æ€çš„ï¼Œç‹¬ç«‹çš„ï¼Œä»¥æ¥å£çš„å½¢å¼æä¾›çš„ä¸€ä¸ªæ“ä½œã€‚é‡‡ç”¨@Beanå’Œ@Configurationé…åˆçš„æ–¹å¼ï¼ŒBeançš„åˆ›å»ºäº¤ç»™äº†å•ç‹¬çš„ç±»ï¼Œè€ŒServiceçš„æ ‡è¯†ç»™äº†Javaä¸­çš„Interfaceä»¥åŠç±»çš„åå­—ã€‚è¿™ç‚¹åœ¨Spring Dataä¹Ÿæœ‰æ‰€ä½“ç°ï¼Œæ¯”å¦‚Repositoryå°±æ˜¯é€šè¿‡åå­—æ¥æ ‡è¯†ï¼Œå¦‚CrudRepositoryã€‚å› æ­¤Serviceä¹Ÿé€šè¿‡åå­—æ¥ä½“ç°ã€‚å…·ä½“å±‚æ¬¡å®šä¹‰ï¼Œé€šè¿‡åå­—è€Œä¸ä¾èµ–Springæä¾›çš„æ³¨è§£ï¼Œä¾¿äºæ ¹æ®é¡¹ç›®æä¾›æ›´å¤šçš„å±‚æ¬¡ï¼Œæ¯”å¦‚Mapperå±‚ï¼ŒValidatorå±‚ç­‰ã€‚å¦å¤–ï¼Œæœ¬èº«Beanå’ŒServiceå°±æ˜¯ä¸¤ä¸ªç»´åº¦çš„æ¦‚å¿µã€‚ä¸€ä¸ªå…³äºå…·ä½“å®ç°ï¼Œå¦ä¸€ä¸ªå…³äºDDDä¸­çš„æ¦‚å¿µã€‚ä½¿ç”¨@Beançš„æ–¹å¼ï¼Œèƒ½å¤Ÿåˆ›å»ºåº“é‡Œé¢çš„ç±»çš„å®ä¾‹ã€‚å¦‚æœä½¿ç”¨@Serviceçš„æ–¹å¼ï¼Œæ²¡åŠæ³•åœ¨åº“é‡Œé¢å¯¹åº”çš„ç±»ä¸Šæ·»åŠ @Serviceæ³¨è§£ã€‚@Resourceã€@Autowiredã€@Qualifier åŒºåˆ«@Resourceå’Œ@Autowiredéƒ½å¯ä»¥æ¥å®Œæˆæ³¨å…¥ä¾èµ–ï¼Œä½†å®ƒä»¬ä¹‹é—´æ˜¯æœ‰åŒº åˆ«çš„ï¼š @Resourceé»˜è®¤æ˜¯æŒ‰ç…§åç§°æ¥è£…é…æ³¨å…¥çš„ï¼Œåªæœ‰å½“æ‰¾ä¸åˆ°ä¸åç§°åŒ¹é…çš„beanæ‰ä¼šæŒ‰ç…§ç±»å‹æ¥è£…é…æ³¨å…¥ï¼› @Autowiredé»˜è®¤æ˜¯æŒ‰ç…§ç±»å‹è£…é…æ³¨å…¥çš„ï¼Œå¦‚æœæƒ³æŒ‰ç…§åç§°æ¥è½¬é…æ³¨å…¥ï¼Œåˆ™éœ€è¦ç»“åˆ@Qualifierä¸€èµ·ä½¿ç”¨ï¼› @Resourceæ³¨è§£æ˜¯åˆJ2EEæä¾›ï¼Œè€Œ@Autowiredæ˜¯ç”±Springæä¾›ï¼Œæ•…å‡å°‘ç³»ç»Ÿå¯¹springçš„ä¾èµ–å»ºè®®ä½¿ç”¨@Resourceçš„æ–¹å¼ï¼› @Resourceå’Œ@Autowiredéƒ½å¯ä»¥ä¹¦å†™æ ‡æ³¨åœ¨å­—æ®µæˆ–è€…è¯¥å­—æ®µçš„setteræ–¹æ³•ä¹‹ä¸Š","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"http://yoursite.com/categories/åç«¯/"}],"tags":[]},{"title":"fatal: Could not read from remote repository.çš„è§£å†³åŠæ³•","slug":"fatal-Could-not-read-from-remote-repository-çš„è§£å†³åŠæ³•","date":"2017-07-28T11:01:01.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/07/28/fatal-Could-not-read-from-remote-repository-çš„è§£å†³åŠæ³•/","link":"","permalink":"http://yoursite.com/2017/07/28/fatal-Could-not-read-from-remote-repository-çš„è§£å†³åŠæ³•/","excerpt":"","text":"æŸ¥çœ‹è¿œç«¯åœ°å€ git remote â€“væŸ¥çœ‹é…ç½® git config --list 1234git add . // æš‚å­˜æ‰€æœ‰çš„æ›´æ”¹git checkout . // ä¸¢å¼ƒæ‰€æœ‰çš„æ›´æ”¹git status // æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€git commit -m &quot;æœ¬æ¬¡è¦æäº¤çš„æ¦‚è¦ä¿¡æ¯&quot; // æäº¤ è®¾ç½®è¿œç«¯ä»“åº“åœ°å€ git remote set-url origin ä½ çš„è¿œç«¯åœ°å€ git remote add origin_new æ–°çš„åœ°å€ git remote â€“væŸ¥çœ‹ git push origin_new masteré‡æ–°æ¨é€ ä¸‹é¢æ˜¯è®¾ç½®ç”¨æˆ·å Git config â€“global user.name â€œç”¨æˆ·åâ€ git config â€“global user.email é‚®ç®±åœ°å€ è®¾ç½®ä»£ç†ï¼š git config --global https.proxy http://127.0.0.1:1080 å–æ¶ˆè®¾ç½®ä»£ç†ï¼šgit config --global --unset https.proxy å–æ¶ˆgit initæ“ä½œæ—¶å‡ºç° rm: cannot remove â€˜.gitâ€™: Is a directoryæ˜¯å› ä¸ºè¾“å…¥çš„å‘½ä»¤æ˜¯ï¼š rm -f .gitè§£å†³åŠæ³•ï¼šrm -rf .git å³åˆ é™¤æ•´ä¸ª.gitç›®å½• failed to push some refs to â€˜git@github.com:***.gitâ€™ hint: Updates were rejected Â·Â·Â·ä½¿ç”¨git push origin masterçš„æ—¶å€™å‡ºç°ä¸€ä¸‹é”™è¯¯ï¼š è§£å†³åŠæ³•ï¼šgit push -f origin masteræˆ–è€…git pullä¸‹ æ¢å¤ä¸å°å¿ƒåˆ é™¤çš„ git stash æ–‡ä»¶ï¼š 123git fsck //æ‰¾åˆ°danglingçš„å¯¹è±¡git show id //ä¸Šé¢åˆ—å‡ºçš„æ¯ä¸€æ¡è®°å½•çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‰ enter æŸ¥çœ‹å…·ä½“ä¿¡æ¯git stash apply id git å›æ»šæäº¤ 123456//resetå°†ä¸€ä¸ªåˆ†æ”¯çš„æœ«ç«¯æŒ‡å‘å¦ä¸€ä¸ªæäº¤ã€‚è¿™å¯ä»¥ç”¨æ¥ç§»é™¤å½“å‰åˆ†æ”¯çš„ä¸€äº›æäº¤, è®©masteråˆ†æ”¯å‘åå›é€€äº†ä¸¤ä¸ªæäº¤git checkout mastergit reset HEAD~2//Revertæ’¤é”€ä¸€ä¸ªæäº¤çš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤, æ‰¾å‡ºå€’æ•°ç¬¬äºŒä¸ªæäº¤ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„æäº¤æ¥æ’¤é”€è¿™äº›æ›´æ”¹ï¼Œç„¶åæŠŠè¿™ä¸ªæäº¤åŠ å…¥é¡¹ç›®ä¸­ã€‚git revert HEAD~2 é”™è¯¯ï¼šPlease enter a commit message to explain why this merge is necessary. è§£å†³åŠæ³•ï¼š ï¼ˆå¯é€‰ï¼‰æŒ‰é”®ç›˜å­—æ¯ i è¿›å…¥insertæ¨¡å¼ ï¼ˆå¯é€‰ï¼‰ä¿®æ”¹æœ€ä¸Šé¢é‚£è¡Œé»„è‰²åˆå¹¶ä¿¡æ¯ æŒ‰é”®ç›˜å·¦ä¸Šè§’â€Escâ€ ï¼ˆé€€å‡ºinsertæ¨¡å¼ï¼‰ è¾“å…¥â€:wqâ€,æŒ‰å›è½¦é”®å³å¯ï¼ˆæäº¤ï¼‰ gitignore notworkingï¼š 123git rm -r --cached .git add .git commit -m &quot;fixed untracked files&quot; git Failed to connect to www.google.com port 80: Timed out å¯èƒ½æ˜¯å› ä¸ºè®¾ç½®äº†ä»£ç†ï¼š 12git config --global http.proxy //æŸ¥çœ‹ä»£ç†git config --global --unset http.proxy //å–æ¶ˆä»£ç† HTTP Basic access denied on Gitï¼š 123git config --global --unset credential.helpergit clone &apos;Â·Â·Â·&apos;login usernameï¼Œpassword rebase å’Œ merge åŒºåˆ« 1git pull --rebase origin master rebase é€‰é¡¹å‘Šè¯‰ Git æŠŠä½ çš„æäº¤ç§»åˆ°åŒæ­¥äº†ä¸­å¤®ä»“åº“ä¿®æ”¹åçš„ master åˆ†æ”¯çš„é¡¶éƒ¨ã€‚rebase æ“ä½œè¿‡ç¨‹æ˜¯æŠŠæœ¬åœ°æäº¤ä¸€æ¬¡ä¸€ä¸ªåœ°è¿ç§»åˆ°æ›´æ–°äº†çš„ä¸­å¤®ä»“åº“masteråˆ†æ”¯ä¹‹ä¸Šã€‚è¿™æ„å‘³ç€å¯èƒ½è¦è§£å†³åœ¨è¿ç§»æŸä¸ªæäº¤æ—¶å‡ºç°çš„åˆå¹¶å†²çªï¼Œè€Œä¸æ˜¯è§£å†³åŒ…å«äº†æ‰€æœ‰æäº¤çš„å¤§å‹åˆå¹¶æ—¶æ‰€å‡ºç°çš„å†²çªã€‚è¿™æ ·çš„æ–¹å¼è®©ä½ å°½å¯èƒ½ä¿æŒæ¯ä¸ªæäº¤çš„èšç„¦å’Œé¡¹ç›®å†å²çš„æ•´æ´ã€‚åè¿‡æ¥ï¼Œç®€åŒ–äº†å“ªé‡Œå¼•å…¥Bugçš„åˆ†æï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œå›æ»šä¿®æ”¹ä¹Ÿå¯ä»¥åšåˆ°å¯¹é¡¹ç›®å½±å“æœ€å°ã€‚ 1git pull origin master å¦‚æœæ²¡æœ‰ rebaseï¼Œ pull æ“ä½œä»ç„¶å¯ä»¥å®Œæˆï¼Œä½†æ¯æ¬¡ pull æ“ä½œè¦åŒæ­¥ä¸­å¤®ä»“åº“ä¸­åˆ«äººä¿®æ”¹æ—¶ï¼Œæäº¤å†å²ä¼šä»¥ä¸€ä¸ªå¤šä½™çš„ã€åˆå¹¶æäº¤ã€ç»“å°¾ã€‚åˆå¹¶ç©å†²çªä¹‹åï¼Œgit rebase --continueï¼ŒGit ä¼šç»§ç»­ä¸€ä¸ªä¸€ä¸ªåœ°åˆå¹¶åé¢çš„æäº¤ï¼Œå¦‚å…¶å®ƒçš„æäº¤æœ‰å†²çªå°±é‡å¤è¿™ä¸ªè¿‡ç¨‹ã€‚å¦‚æœä½ ç¢°åˆ°äº†å†²çªï¼Œä½†å‘ç°æä¸å®šï¼Œä¸è¦æƒŠæ…Œã€‚åªè¦æ‰§è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥å›åˆ°ä½ æ‰§è¡Œgit pull â€“rebaseå‘½ä»¤å‰çš„æ ·å­ï¼šgit rebase --abort","categories":[{"name":"git","slug":"git","permalink":"http://yoursite.com/categories/git/"}],"tags":[]},{"title":"æ­å»ºä¸€ä¸ªåŒ…å« reduxã€routerã€å›½é™…åŒ–çš„å‰ç«¯é¡¹ç›®æ¡†æ¶","slug":"æ­å»ºä¸€ä¸ªåŒ…å«-reduxã€routerã€å›½é™…åŒ–çš„å‰ç«¯é¡¹ç›®æ¡†æ¶","date":"2017-06-08T10:57:41.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/06/08/æ­å»ºä¸€ä¸ªåŒ…å«-reduxã€routerã€å›½é™…åŒ–çš„å‰ç«¯é¡¹ç›®æ¡†æ¶/","link":"","permalink":"http://yoursite.com/2017/06/08/æ­å»ºä¸€ä¸ªåŒ…å«-reduxã€routerã€å›½é™…åŒ–çš„å‰ç«¯é¡¹ç›®æ¡†æ¶/","excerpt":"","text":"ç›®çš„æ­å»ºä¸€ä¸ªäº¤äº’æ¯”è¾ƒå¤šçš„ react å‰ç«¯é¡¹ç›®æ¡†æ¶ï¼Œæ•°æ®å¯é¢„æµ‹ï¼Œå¯è·¯ç”±è·³è½¬ï¼Œå¯å›½é™…åŒ–ï¼Œæ•°æ®æ“ä½œå¯æ§åˆ¶ ä½¿ç”¨çš„ä¸»è¦ç±»åº“ i18next å›½é™…åŒ– react-i18next i18next-browser-languagedetector immutability-helper immutable å¤„ç†æ•°æ® react react-dom react-redux ç®¡ç†æ•°æ® react-router è·¯ç”± react-router-redux è·¯ç”±æ¥å…¥ store reduxè¯´æ˜ å› ä¸º router æ˜¯å¼‚æ­¥è¿‡ç¨‹ï¼Œæ‰€ä»¥æ³¨å…¥åˆ° store ä¸­ï¼Œé€šè¿‡ action è·³è½¬è·¯ç”± åœ¨ react-redux åŸç”Ÿ actionã€reducer ä¹‹ä¸Šå°è£…äº†ä¸€å±‚ï¼Œä¾¿äºåˆ†å‘ã€åŒ¹é… actionã€reducer æ‰§è¡Œé¡ºåºï¼š action -&gt; å‰ç½®æ‹¦æˆªå™¨ï¼ˆreturn trueï¼‰-&gt; reducerï¼ˆä¿®æ”¹ storeï¼‰-&gt; componentWillReceiveProps -&gt; shouldComponentUpdateï¼ˆreturn trueï¼‰-&gt; render -&gt; åç½®æ‹¦æˆªå™¨ é¡¹ç›®åœ°å€ï¼šhttps://github.com/liangxinwei/redux-ele é¡¹ç›®å¸ƒå±€12345678910111213141516171819202122232425262728293031323334353637383940â”œâ”€â”€ cfg webpack é…ç½®æ–‡ä»¶â”‚ â”œâ”€â”€ base.js webpack é…ç½®â”‚ â”œâ”€â”€ default.js loaderï¼Œpluginâ”‚ â”œâ”€â”€ dev.js dev ç¯å¢ƒ â”‚ â””â”€â”€ dist.js dist ç¯å¢ƒâ”œâ”€â”€ src æºç ç›®å½•â”‚ â”œâ”€â”€ appâ”‚ â”‚ â”œâ”€â”€ component å…·ä½“ä¸šåŠ¡ç»„ä»¶ï¼Œé…åˆ routes ç›®å½•ä½¿ç”¨â”‚ â”‚ â”œâ”€â”€ config store é…ç½®â”‚ â”‚ â”‚ â”œâ”€â”€ AppActionRouter.js åˆ†å‘ç›¸åº” type çš„ actionâ”‚ â”‚ â”‚ â”œâ”€â”€ AppReducerCreator.js åŒ¹é…ç›¸åº” type çš„ action çš„ reducerâ”‚ â”‚ â”‚ â”œâ”€â”€ ConfigureStore.js ç”Ÿæˆ storeâ”‚ â”‚ â”‚ â””â”€â”€ index.js ç»Ÿä¸€å¯¼å‡ºâ”‚ â”‚ â”œâ”€â”€ i18n å›½é™…åŒ–é…ç½®â”‚ â”‚ â”‚ â”œâ”€â”€ locales ä¸­è‹±æ–‡é…ç½®æ–‡ä»¶â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€ en è‹±æ–‡é…ç½®â”‚ â”‚ â”‚ â”‚ â””â”€â”€ zh ä¸­æ–‡é…ç½®â”‚ â”‚ â”‚ â”œâ”€â”€ i18n.js i18next é…ç½®â”‚ â”‚ â”‚ â””â”€â”€ index.js ç»Ÿä¸€å¯¼å‡ºâ”‚ â”‚ â”œâ”€â”€ middleware ä¸­é—´ä»¶â”‚ â”‚ â”‚ â”œâ”€â”€ AppMiddleWare.js å‰ç½®ã€åç½®æ‹¦æˆªå™¨ä¸šåŠ¡ä»£ç â”‚ â”‚ â”‚ â”œâ”€â”€ ComponentMiddleWare.js æ“ä½œæ‹¦æˆªå™¨ä¸­é—´ä»¶â”‚ â”‚ â”‚ â”œâ”€â”€ index.js ä¸­é—´ä»¶ç»Ÿä¸€å¯¼å‡ºâ”‚ â”‚ â”‚ â””â”€â”€ LoggerMiddleWare.js æ—¥å¿—ä¸­é—´ä»¶â”‚ â”‚ â”œâ”€â”€ routes è·¯ç”±é…ç½®â”‚ â”‚ â”‚ â””â”€â”€ index.jsxâ”‚ â”‚ â””â”€â”€ App.jsx app å…¥å£â”‚ â”œâ”€â”€ index.ejs ejs æ¨¡æ¿æ–‡ä»¶â”‚ â””â”€â”€ index.jsx æŒ‚è½½ react domâ”œâ”€â”€ testâ”œâ”€â”€ .babelrc babel é…ç½®æ–‡ä»¶â”œâ”€â”€ .editorconfig è·¨å¹³å°ç¼–è¾‘å™¨é…ç½®æ–‡ä»¶â”œâ”€â”€ .eslintignore eslintignore é…ç½®æ–‡ä»¶â”œâ”€â”€ .eslintrc eslint é…ç½®æ–‡ä»¶â”œâ”€â”€ .gitignoreâ”œâ”€â”€ package.json â”œâ”€â”€ postcss.config.js postcss é…ç½®æ–‡ä»¶ â”œâ”€â”€ server.js æœ¬åœ°æœåŠ¡ï¼ˆwebpack-dev-serverï¼‰â”œâ”€â”€ webpack.config.js webpack é…ç½®æ–‡ä»¶å…¥å£â””â”€â”€ README.md App.jsx é¡¹ç›®å…¥å£1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import React, &#123;Component&#125; from &apos;react&apos;;import &#123;Provider&#125; from &apos;react-redux&apos;;import &#123;I18nextProvider&#125; from &apos;react-i18next&apos;;import &#123;syncHistoryWithStore&#125; from &apos;react-router-redux&apos;;import &#123;hashHistory&#125; from &apos;react-router&apos;;import &#123;reducers&#125; from &apos;./components&apos;; //åˆå¹¶ä¹‹åçš„ reducerimport &#123;default as Store&#125; from &apos;./config/ConfigureStore&apos;;import appMiddleWares from &apos;./middleware/AppMiddleWare&apos;;import &#123;i18n, locales&#125; from &apos;./i18n&apos;; //è§ä¸‹é¢ i18n é…ç½®import routes from &apos;./routes&apos;;import &apos;./style/index.scss&apos;;/** * App View */class App extends Component &#123; constructor(props) &#123; super(props); &#125; componentWillMount() &#123; // æ·»åŠ i18nè¯­è¨€åŒ… for (let ns in locales[&apos;zh&apos;]) &#123; if (locales[&apos;zh&apos;].hasOwnProperty(ns)) &#123; i18n.addResourceBundle(&apos;zh&apos;, ns, locales[&apos;zh&apos;][ns]); i18n.addResourceBundle(&apos;en&apos;, ns, locales[&apos;en&apos;][ns]); &#125; &#125; &#125; render() &#123; let storeOptions = &#123;&#125;; const defaultStates = &#123;&#125;; const allReducers = Object.assign(&#123;&#125;, reducers); //æ­¤å¤„å¯ä»¥å¹¶å…¥å…¶å®ƒæ¨¡å—ä¸­çš„ reducer const preMiddleWares = Object.assign(&#123;&#125;, appMiddleWares.preMiddleWares); //æ­¤å¤„å¯ä»¥å¹¶å…¥å…¶å®ƒæ¨¡å—ä¸­çš„ preMiddleWares const postMiddleWares = Object.assign(&#123;&#125;, appMiddleWares.postMiddleWares); //æ­¤å¤„å¯ä»¥å¹¶å…¥å…¶å®ƒæ¨¡å—ä¸­çš„ postMiddleWares storeOptions.initialStates = defaultStates; storeOptions.reducers = allReducers; storeOptions.preMiddleWares = preMiddleWares; storeOptions.postMiddleWares = postMiddleWares; const store = Store.configureStore(storeOptions); const history = syncHistoryWithStore(hashHistory, store); return ( &lt;Provider store=&#123;store&#125;&gt; &lt;I18nextProvider i18n=&#123;i18n&#125;&gt; &#123;routes(history)&#125; &lt;/I18nextProvider&gt; &lt;/Provider&gt; ); &#125;&#125;export default App; routes è·¯ç”±é…ç½®12345678910111213141516171819import React from &apos;react&apos;;import &#123;Router, Route&#125; from &apos;react-router&apos;;import &#123; HomeView, BusinessDetail&#125; from &apos;../components&apos;;const routes = (history) =&gt; &#123; return ( &lt;Router history=&#123;history&#125;&gt; &lt;Route path=&quot;/&quot; component=&#123;HomeView&#125;/&gt; &lt;Route path=&quot;/home&quot; component=&#123;HomeView&#125;/&gt; &lt;Route path=&quot;/business/:id&quot; component=&#123;BusinessDetail&#125;/&gt; &lt;/Router&gt; );&#125;;export default routes; ConfigureStore.js æ„å»º Store1234567891011121314151617181920212223242526272829303132333435import &#123;applyMiddleware, compose, createStore, combineReducers&#125; from &apos;redux&apos;;import thunk from &apos;redux-thunk&apos;;import &#123;hashHistory&#125; from &apos;react-router&apos;;import &#123;routerReducer, routerMiddleware&#125; from &apos;react-router-redux&apos;;import &#123;componentMiddleWare, logger&#125; from &apos;../middleware&apos;;import appReducerCreator from &apos;./AppReducerCreator&apos;;/** * store æ„å»ºå™¨ */export function configureStore(config) &#123; // åˆå¹¶ä¹‹åçš„ preMiddleWares, postMiddleWares, reducers let &#123;initialStates, preMiddleWares, postMiddleWares, reducers&#125; = config; let allReducer = Object.assign(&#123;&#125;, reducers); let appReducer = appReducerCreator(initialStates, allReducer); const finalReducer = combineReducers(&#123;appReducer, routing: routerReducer&#125;); const allMiddleWares = [ thunk, // å¼‚æ­¥ action componentMiddleWare(preMiddleWares, postMiddleWares), // å…·ä½“ä¸šåŠ¡æ‹¦æˆªå™¨ routerMiddleware(hashHistory), // router æ³¨å…¥åˆ° store ä¸­ logger ]; let enhancer = compose( applyMiddleware(...allMiddleWares) ); return createStore(finalReducer, &#123;&#125;, enhancer);&#125;const Store = &#123; configureStore&#125;;export default Store; AppReducerCreator.js123456789101112131415/** * å…¨å±€ Reducer äº§ç”Ÿå™¨ */function appReducerCreator(wrapInitialState, allReducerMap) &#123; function appReducer(state = wrapInitialState, action) &#123; if (action &amp;&amp; action.type &amp;&amp; allReducerMap[action.type]) &#123; return allReducerMap[action.type](state, action); &#125; else &#123; return state; &#125; &#125; return appReducer;&#125;export default appReducerCreator; ComponentMiddleWare.js action æ‹¦æˆªå™¨1234567891011121314151617181920212223242526/** * æ“ä½œæ‹¦æˆªå™¨ä¸­é—´ä»¶ */export function componentMiddleWare(preMiddleWares, postMiddleWares) &#123; return function (&#123;getState&#125;) &#123; return next =&gt; (action) =&gt; &#123; // å‰ç½®æ‹¦æˆªæ ¡éªŒå‡½æ•° let preInterceptFunc = preMiddleWares ? preMiddleWares[action.type] : null; // è¿›è¡Œæ‹¦æˆªæ ¡éªŒæ“ä½œ if (preInterceptFunc &amp;&amp; !preInterceptFunc.call(this, action, getState())) &#123; console.error(&apos;Invalid action for preMiddleWares intercept!!&apos;); return; &#125; // è°ƒç”¨ middleware é“¾ä¸­ä¸‹ä¸€ä¸ª middleware çš„ dispatchã€‚ const returnValue = next(action); // åç½®æ‹¦æˆªå‡½æ•° let postInterceptFunc = postMiddleWares ? postMiddleWares[action.type] : null; // è¿›è¡Œæ‹¦æˆªæ ¡éªŒæ“ä½œ postInterceptFunc &amp;&amp; postInterceptFunc.call(this, action, getState()); return returnValue; &#125;; &#125;;&#125; LoggerMiddleWare.js123456789101112/** * æ—¥å¿— MiddleWare */export function logger(&#123;getState&#125;) &#123; return next =&gt; (action) =&gt; &#123; console.info(&apos;will dispatch&apos;, action); // è°ƒç”¨ middleware é“¾ä¸­ä¸‹ä¸€ä¸ª middleware çš„ dispatchã€‚ const returnValue = next(action); console.info(&apos;after dispatch&apos;, getState()); return returnValue; &#125;;&#125; AppMiddleWare.js å…·ä½“ä¸šåŠ¡ä¸­é—´ä»¶ï¼Œæ„å»º store æ—¶æ³¨å…¥123456789101112131415161718192021222324/** * å‰ç½®æ‹¦æˆªå™¨ */let preMiddleWares = &#123; TEST: (action, state) =&gt; &#123; return true;// false åˆ™æœ¬æ¬¡ action æ— æ•ˆï¼Œæ•°æ®ä¸ä¼šè¢«ä¿®æ”¹ &#125;&#125;;/** * åç½®æ‹¦æˆªå™¨ */let postMiddleWares = &#123; TEST: (action, state) =&gt; &#123; Â·Â·Â· // æ­¤å¤„ä¿®æ”¹ä¹‹åä¸ä¼šç«‹å³åœ¨ ui ä¸Šä½“ç°å‡ºæ¥ï¼Œå› ä¸ºå®ƒåœ¨ render ä¹‹åæ‰§è¡Œã€‚ä¸”å› ä¸ºå‚æ•° state ä¸ºå¼•ç”¨ï¼Œæ‰€ä»¥æ˜¯ç›´æ¥ä¿®æ”¹ï¼Œå¯åšä¸€äº›æç¤ºæ€§çš„æ“ä½œ &#125;&#125;;let appMiddleWares = &#123; preMiddleWares, postMiddleWares&#125;;export default appMiddleWares; connectToStore.js ç»„ä»¶æ¥å…¥ store decorator1234567891011121314151617181920import &#123;bindActionCreators&#125; from &apos;redux&apos;;import &#123;connect&#125; from &apos;react-redux&apos;;import appConfig from &apos;../config&apos;;// appConfig.router å³ä¸‹é¢çš„ AppActionRouter.jsconst AppActionRouter = appConfig.router;function mapStateToProps(state) &#123; return &#123; store: state.appReducer || &#123;&#125;, routerStore: (state.routing &amp;&amp; state.routing.locationBeforeTransitions) || &#123;&#125; &#125;;&#125;function mapDispatchToProps(dispatch) &#123; return bindActionCreators(AppActionRouter, dispatch);&#125;export default function connectToStore(component) &#123; return connect(mapStateToProps, mapDispatchToProps)(component);&#125; AppActionRouter.js åˆ†å‘ action1234567891011121314151617181920212223import &#123;actions&#125; from &apos;../components&apos;;// action ä¸ºåˆå¹¶ä¹‹åçš„æ‰€æœ‰çš„ action/** * app action Router */function onClickWithoutCheck(action) &#123; return action;&#125;/** * å¦‚æœå¤–éƒ¨æ³¨å…¥ actionï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨ action çš„æ“ä½œå³å¯ã€‚ * å¦‚æœå¤–éƒ¨æ²¡æœ‰æ³¨å…¥ actionï¼Œ ä½¿ç”¨ dispatch æ“ä½œã€‚ */export function onClickAction(action, props) &#123; return function (dispatch, getState) &#123; if (action.type &amp;&amp; actions.hasOwnProperty(action.type)) &#123; actions[action.type].call(this, action, dispatch, props); &#125; else &#123; dispatch(onClickWithoutCheck(action)); &#125; &#125;;&#125; acion ç¤ºä¾‹1234567let homeActions = &#123;&#125;;homeActions[&apos;TEST&apos;] = function (action, dispatch, state) &#123; dispatch(action);&#125;;export default homeActions; reducer ç¤ºä¾‹1234567891011import Immutable from &apos;immutable&apos;;let homeReducers = &#123;&#125;;homeReducers[&apos;TEST&apos;] = function (state, action) &#123; let foo = Immutable.fromJS(state); let newArr = foo.mergeDeep(Immutable.fromJS(action.content)); return newArr.toJS();&#125;;export default homeReducers; i18n é…ç½®12345678910111213141516171819202122232425import i18next from &apos;i18next&apos;;import LanguageDetector from &apos;i18next-browser-languagedetector&apos;;const i18n = i18next .use(LanguageDetector) .init(&#123; fallbackLng: &apos;zh&apos;, // have a common namespace used around the full app ns: [&apos;common&apos;], defaultNS: &apos;common&apos;, debug: false, interpolation: &#123; escapeValue: false // not needed for react!! &#125; &#125;, (err) =&gt; &#123; if (err) &#123; console.error(&apos;i18next&apos;, err); &#125; // console.log(&apos;i18next initialized and ready to go!&apos;); &#125;);export default i18n; i18n è‹±æ–‡é…ç½®1234const home = &#123; title: &apos;Home Page&apos;&#125;;export default &#123;home&#125;; i18n ä¸­æ–‡é…ç½®1234const home = &#123; title: &apos;é¦–é¡µ&apos;&#125;;export default &#123;home&#125;; i18n ä¸­è‹±æ–‡ç»Ÿä¸€å¯¼å‡º123456789import zh from &apos;./zh&apos;;import en from &apos;./en&apos;;const locales = &#123; zh: zh, en: en&#125;;export default locales; ç»„ä»¶å®ä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import React, &#123;Component&#125; from &apos;react&apos;;import &#123;translate&#125; from &apos;react-i18next&apos;;import i18n from &apos;../i18n&apos;;@translate([&apos;home&apos;], &#123;wait: true&#125;) // ä½¿ç”¨å¤šè¯­è¨€@connectToStore // ç»„ä»¶ä»‹å…¥ storeclass Test extends Component &#123; constructor(props) &#123; super(props); &#125; // è·¯ç”±è·³è½¬ transformRouter = () =&gt; &#123; const &#123;onClickAction&#125; = this.props; // è§ä¸‹é¢è·¯ç”± acion let gotoAction = &#123; type: &apos;GOTO&apos;, content: &apos;/home&apos; &#125;; onClickAction(gotoAction, this.props); &#125; // å‘é€ action changeStore = () =&gt; &#123; const &#123;onClickAction, store&#125; = this.props; let action = &#123; type: &apos;TEST&apos;, content: &#123;data: &apos;test&apos;&#125; &#125;; onClickAction(action, this.props); &#125; // åˆ‡æ¢è¯­è¨€ setLanguage = () =&gt; &#123; i18n.changeLanguage(&apos;zh&apos;); // or en &#125; render() &#123; const &#123;t, store&#125; = this.props; return ( &lt;div className=&apos;app-home&apos;&gt; &lt;div className=&apos;app-header&apos;&gt; &lt;span&gt;&#123;t(&apos;title&apos;)&#125;&lt;/span&gt; &lt;/div&gt; &lt;div&gt; content &lt;/div&gt; &lt;Footer/&gt; &lt;/div&gt; ); &#125;&#125;export default Test; è·¯ç”± acionï¼Œä¸éœ€è¦ è·¯ç”± recuder123456789import &#123;push&#125; from &apos;react-router-redux&apos;;let routerActions = &#123;&#125;;routerActions[&apos;GOTO&apos;] = function (action, dispatch, state) &#123; dispatch(push(action[&apos;content&apos;]));&#125;;export default routerActions;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]},{"title":"ä¸€äº›å®¹æ˜“è¢«å¿½ç•¥çš„ javascript çŸ¥è¯†ç‚¹","slug":"ä¸€äº›å®¹æ˜“è¢«å¿½ç•¥çš„-javascript-çŸ¥è¯†ç‚¹","date":"2017-05-10T10:55:37.000Z","updated":"2019-12-31T02:14:32.000Z","comments":true,"path":"2017/05/10/ä¸€äº›å®¹æ˜“è¢«å¿½ç•¥çš„-javascript-çŸ¥è¯†ç‚¹/","link":"","permalink":"http://yoursite.com/2017/05/10/ä¸€äº›å®¹æ˜“è¢«å¿½ç•¥çš„-javascript-çŸ¥è¯†ç‚¹/","excerpt":"","text":"ReferenceErrorå’ŒTypeErrorå¦‚æœ RHS æŸ¥è¯¢åœ¨æ‰€æœ‰åµŒå¥—çš„ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡º ReferenceErrorå¼‚å¸¸ã€‚å¦‚æœ RHS æŸ¥è¯¢æ‰¾åˆ°äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯ä½ å°è¯•å¯¹è¿™ä¸ªå˜é‡çš„å€¼è¿›è¡Œä¸åˆç†çš„æ“ä½œï¼Œæ¯”å¦‚è¯•å›¾å¯¹ä¸€ä¸ªéå‡½æ•°ç±»å‹çš„å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œæˆ–ç€å¼•ç”¨ null æˆ– undefined ç±»å‹çš„å€¼ä¸­çš„å±æ€§ï¼Œé‚£ä¹ˆå¼•æ“ä¼šæŠ›å‡ºå¦å¤–ä¸€ç§ç±»å‹çš„å¼‚å¸¸ï¼Œå«ä½œ TypeError ã€‚ReferenceError åŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€Œ TypeError åˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹ç»“æœçš„æ“ä½œæ˜¯éæ³•æˆ–ä¸åˆç†çš„ã€‚ ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ç”±äºå‡½æ•°è¢«åŒ…å«åœ¨ä¸€å¯¹ ( ) æ‹¬å·å†…éƒ¨ï¼Œå› æ­¤æˆä¸ºäº†ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œé€šè¿‡åœ¨æœ«å°¾åŠ ä¸Šå¦å¤–ä¸€ä¸ª()å¯ä»¥ç«‹å³æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œæ¯”å¦‚ (function foo(){ .. })() ã€‚ç¬¬ä¸€ä¸ª()å°†å‡½æ•°å˜æˆè¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ª()æ‰§è¡Œäº†è¿™ä¸ªå‡½æ•°ã€‚ letlet å…³é”®å­—å¯ä»¥å°†å˜é‡ç»‘å®šåˆ°æ‰€åœ¨çš„ä»»æ„ä½œç”¨åŸŸä¸­ï¼ˆé€šå¸¸æ˜¯ { .. } å†…éƒ¨ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œ letä¸ºå…¶å£°æ˜çš„å˜é‡éšå¼åœ°äº†æ‰€åœ¨çš„å—ä½œç”¨åŸŸã€‚ä½¿ç”¨ let è¿›è¡Œçš„å£°æ˜ä¸ä¼šåœ¨å—ä½œç”¨åŸŸä¸­è¿›è¡Œæå‡ã€‚å£°æ˜çš„ä»£ç è¢«è¿è¡Œä¹‹å‰ï¼Œå£°æ˜å¹¶ä¸â€œå­˜åœ¨â€ ã€‚for å¾ªç¯å¤´éƒ¨çš„letä¸ä»…å°†iç»‘å®šåˆ°äº†forå¾ªç¯çš„å—ä¸­ï¼Œäº‹å®ä¸Šå®ƒå°†å…¶é‡æ–°ç»‘å®šåˆ°äº†å¾ªç¯çš„æ¯ä¸€ä¸ªè¿­ä»£ä¸­ï¼Œç¡®ä¿ä½¿ç”¨ä¸Šä¸€ä¸ªå¾ªç¯è¿­ä»£ç»“æŸæ—¶çš„å€¼é‡æ–°è¿›è¡Œèµ‹å€¼ã€‚ æå‡è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š 123a = 2;var a;console.log( a );// 2 è€ƒè™‘å¦å¤–ä¸€æ®µä»£ç ï¼š 12console.log( a );// undefinedvar a = 2; è¿‡ç¨‹ï¼š å½“ä½ çœ‹åˆ° var a = 2; æ—¶ï¼ŒJavaScript å®é™…ä¸Šä¼šå°†å…¶çœ‹æˆä¸¤ä¸ªå£°æ˜ï¼š var a; å’Œ a = 2; ã€‚ç¬¬ä¸€ä¸ªå®šä¹‰å£°æ˜æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œçš„ã€‚ç¬¬äºŒä¸ªèµ‹å€¼å£°æ˜ä¼šè¢«ç•™åœ¨åŸåœ°ç­‰å¾…æ‰§è¡Œé˜¶æ®µã€‚ç¬¬ä¸€ä¸ªä»£ç ç‰‡æ®µä¼šä»¥å¦‚ä¸‹å½¢å¼è¿›è¡Œå¤„ç†ï¼š 123var a;a = 2;console.log( a ); å…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†æ˜¯ç¼–è¯‘ï¼Œè€Œç¬¬äºŒéƒ¨åˆ†æ˜¯æ‰§è¡Œã€‚ç¬¬äºŒä¸ªä»£ç ç‰‡æ®µå®é™…æ˜¯æŒ‰ç…§ä»¥ä¸‹æµç¨‹å¤„ç†çš„ï¼š 123var a;console.log( a );a = 2; è¿™ä¸ªè¿‡ç¨‹å°±å«ä½œæå‡ã€‚ä½†æ˜¯å‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šè¢«æå‡ã€‚ä¾‹å¦‚ï¼š 1234foo(); // ä¸æ˜¯ ReferenceError, è€Œæ˜¯ TypeError!var foo = function bar() &#123; // ...&#125;; è¿™æ®µç¨‹åºä¸­çš„å˜é‡æ ‡è¯†ç¬¦ foo() è¢«æå‡å¹¶åˆ†é…ç»™æ‰€åœ¨ä½œç”¨åŸŸï¼ˆåœ¨è¿™é‡Œæ˜¯å…¨å±€ä½œç”¨åŸŸï¼‰ ï¼Œå› æ­¤foo()ä¸ä¼šå¯¼è‡´ ReferenceError ã€‚ä½†æ˜¯ foo æ­¤æ—¶å¹¶æ²¡æœ‰èµ‹å€¼ï¼ˆå¦‚æœå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜è€Œä¸æ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆå°±ä¼šèµ‹å€¼ï¼‰ ã€‚ foo() ç”±äºå¯¹ undefined å€¼è¿›è¡Œå‡½æ•°è°ƒç”¨è€Œå¯¼è‡´éæ³•æ“ä½œï¼Œå› æ­¤æŠ›å‡º TypeError å¼‚å¸¸ã€‚åŒæ—¶ä¹Ÿè¦è®°ä½ï¼Œå³ä½¿æ˜¯å…·åçš„å‡½æ•°è¡¨è¾¾å¼ï¼Œåç§°æ ‡è¯†ç¬¦åœ¨èµ‹å€¼ä¹‹å‰ä¹Ÿæ— æ³•åœ¨æ‰€åœ¨ä½œç”¨åŸŸä¸­ä½¿ç”¨ï¼š 12345foo(); // TypeErrorbar(); // ReferenceErrorvar foo = function bar() &#123; // ...&#125;; è¿™ä¸ªä»£ç ç‰‡æ®µç»è¿‡æå‡åï¼Œå®é™…ä¸Šä¼šè¢«ç†è§£ä¸ºä»¥ä¸‹å½¢å¼ï¼š 1234567var foo;foo(); // TypeErrorbar(); // ReferenceErrorfoo = function() &#123;var bar = ...self... // ...&#125; å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜éƒ½ä¼šè¢«æå‡ã€‚ä½†æ˜¯æ˜¯å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚è€ƒè™‘ä»¥ä¸‹ä»£ç ï¼š 12345678foo(); // 1var foo;function foo() &#123; console.log( 1 );&#125;foo = function() &#123; console.log( 2 );&#125;; ä¼šè¾“å‡º 1 è€Œä¸æ˜¯ 2 ï¼è¿™ä¸ªä»£ç ç‰‡æ®µä¼šè¢«å¼•æ“ç†è§£ä¸ºå¦‚ä¸‹å½¢å¼ï¼š 1234567function foo() &#123; console.log( 1 );&#125;foo(); // 1foo = function() &#123; console.log( 2 );&#125;; æ³¨æ„ï¼Œ var foo å°½ç®¡å‡ºç°åœ¨ function foo()â€¦ çš„å£°æ˜ä¹‹å‰ï¼Œä½†å®ƒæ˜¯é‡å¤çš„å£°æ˜ï¼ˆå› æ­¤è¢«å¿½ç•¥äº†ï¼‰ ï¼Œå› ä¸ºå‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°æ™®é€šå˜é‡ä¹‹å‰ã€‚å°½ç®¡é‡å¤çš„ var å£°æ˜ä¼šè¢«å¿½ç•¥æ‰ï¼Œä½†å‡ºç°åœ¨åé¢çš„å‡½æ•°å£°æ˜è¿˜æ˜¯å¯ä»¥è¦†ç›–å‰é¢çš„ã€‚ ä½œç”¨åŸŸé—­åŒ…å®šä¹‰ï¼šå½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚ä¸‹é¢è¿™æ®µä»£ç æ¸…æ™°åœ°å±•ç¤ºäº†é—­åŒ…ï¼š 123456789function foo() &#123; var a = 2; function bar() &#123; console.log( a ); &#125; return bar;&#125;var baz = foo();baz(); // 2 â€”â€” è¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœã€‚ bar() æ˜¾ç„¶å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯å®ƒåœ¨è‡ªå·±å®šä¹‰çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–çš„åœ°æ–¹æ‰§è¡Œã€‚çœ‹ä¸Šå» foo() çš„å†…å®¹ä¸ä¼šå†è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¾ˆè‡ªç„¶åœ°ä¼šè€ƒè™‘å¯¹å…¶è¿›è¡Œå›æ”¶ã€‚è€Œé—­åŒ…çš„â€œç¥å¥‡â€ä¹‹å¤„æ­£æ˜¯å¯ä»¥é˜»æ­¢è¿™ä»¶äº‹æƒ…çš„å‘ç”Ÿã€‚äº‹å®ä¸Šå†…éƒ¨ä½œç”¨åŸŸä¾ç„¶å­˜åœ¨ï¼Œå› æ­¤æ²¡æœ‰è¢«å›æ”¶ã€‚è°åœ¨ä½¿ç”¨è¿™ä¸ªå†…éƒ¨ä½œç”¨åŸŸï¼ŸåŸæ¥æ˜¯ bar() æœ¬èº«åœ¨ä½¿ç”¨ã€‚æ‹œ bar() æ‰€å£°æ˜çš„ä½ç½®æ‰€èµï¼Œå®ƒæ‹¥æœ‰æ¶µç›– foo() å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ï¼Œä½¿å¾—è¯¥ä½œç”¨åŸŸèƒ½å¤Ÿä¸€ç›´å­˜æ´»ï¼Œä»¥ä¾› bar() åœ¨ä¹‹åä»»ä½•æ—¶é—´è¿›è¡Œå¼•ç”¨ã€‚bar() ä¾ç„¶æŒæœ‰å¯¹è¯¥ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œè€Œè¿™ä¸ªå¼•ç”¨å°±å«ä½œé—­åŒ…ã€‚ typeof null = â€œobjectâ€ä¸åŒçš„å¯¹è±¡åœ¨åº•å±‚éƒ½è¡¨ç¤ºä¸ºäºŒè¿›åˆ¶ï¼Œåœ¨ JavaScript ä¸­äºŒè¿›åˆ¶å‰ä¸‰ä½éƒ½ä¸º 0 çš„è¯ä¼šè¢«åˆ¤æ–­ä¸º object ç±»å‹ï¼Œ null çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯å…¨ 0ï¼Œ è‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯ 0ï¼Œ æ‰€ä»¥æ‰§è¡Œ typeof æ—¶ä¼šè¿”å›â€œ object â€ ã€‚ Arrayä½¿ç”¨ delete è¿ç®—ç¬¦å¯ä»¥å°†å•å…ƒä»æ•°ç»„ä¸­åˆ é™¤ï¼Œå•å…ƒåˆ é™¤åï¼Œæ•°ç»„çš„ length å±æ€§å¹¶ä¸ä¼šå‘ç”Ÿå˜åŒ– 123456var a = [ ];a[0] = 1;// æ­¤å¤„æ²¡æœ‰è®¾ç½® a[1] å•å…ƒa[2] = 3;a[1]; // undefineda.length; // 3 ä¸Šé¢çš„ä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†å…¶ä¸­çš„ â€œ ç©ºç™½å•å…ƒ â€ ï¼ˆ empty slot ï¼‰å¯èƒ½ä¼šå¯¼è‡´å‡ºäººæ„æ–™çš„ç»“æœã€‚å¦å¤–ï¼šå¦‚æœå­—ç¬¦ä¸²é”®å€¼èƒ½å¤Ÿè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºåè¿›åˆ¶æ•°å­—çš„è¯ï¼Œå®ƒå°±ä¼šè¢«å½“ä½œæ•°å­—ç´¢å¼•æ¥å¤„ç† 123var a = [ ];a[\"13\"] = 42;a.length; // 14 Number()å¯¹äº . è¿ç®—ç¬¦éœ€è¦ç»™äºˆç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—å­—ç¬¦ï¼Œä¼šè¢«ä¼˜å…ˆè¯†åˆ«ä¸ºæ•°å­—å¸¸é‡çš„ä¸€éƒ¨åˆ†ï¼Œç„¶åæ‰æ˜¯å¯¹è±¡å±æ€§è®¿é—®è¿ç®—ç¬¦ã€‚true è½¬æ¢ä¸º 1 ï¼Œ false è½¬æ¢ä¸º 0 ã€‚ undefined è½¬æ¢ä¸º NaN ï¼Œ null è½¬æ¢ä¸º 0ã€‚ä¸ºäº†å°†å€¼è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼ŒæŠ½è±¡æ“ä½œ ToPrimitive ä¼šé¦–å…ˆï¼ˆé€šè¿‡å†…éƒ¨æ“ä½œ DefaultValueï¼‰æ£€æŸ¥è¯¥å€¼æ˜¯å¦æœ‰ valueOf() æ–¹æ³•ã€‚å¦‚æœæœ‰å¹¶ä¸”è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œå°±ä½¿ç”¨è¯¥å€¼è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¦‚æœæ²¡æœ‰å°±ä½¿ç”¨ toString() çš„è¿”å›å€¼ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æ¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¦‚æœ valueOf() å’Œ toString() å‡ä¸è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œä¼šäº§ç”Ÿ TypeError é”™è¯¯ã€‚ä½¿ç”¨ Object.create(null) åˆ›å»ºçš„å¯¹è±¡ [[Prototype]] å±æ€§ä¸º null ï¼Œå¹¶ä¸”æ²¡æœ‰ valueOf() å’Œ toString() æ–¹æ³•ï¼Œå› æ­¤æ— æ³•è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728// æ— æ•ˆè¯­æ³•ï¼šå› ä¸º . è¢«è§†ä¸ºå¸¸é‡ 42. çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥æ²¡æœ‰. å±æ€§è®¿é—®è¿ç®—ç¬¦æ¥è°ƒç”¨ tofixed æ–¹æ³•42.toFixed( 3 ); // SyntaxError// ä¸‹é¢çš„è¯­æ³•éƒ½æœ‰æ•ˆï¼š(42).toFixed( 3 ); // \"42.000\"0.42.toFixed( 3 ); // \"0.420\"42..toFixed( 3 ); // \"42.000\"42 .toFixed(3); // \"42.000\"var a = &#123;valueOf: function()&#123; return \"42\";&#125;&#125;;var b = &#123; toString: function()&#123; return \"42\"; &#125;&#125;;var c = [4,2];c.toString = function()&#123; return this.join( \"\" ); // \"42\"&#125;;Number( a ); // 42Number( b ); // 42Number( c ); // 42Number( \"\" ); // 0Number( [] ); // 0Number( [ \"abc\" ] ); // NaN Boolean å‡å€¼ undefined,null,false,+0,-0,NaN,â€â€ã€‚å‡å€¼åˆ—è¡¨ä»¥å¤–çš„å€¼éƒ½æ˜¯çœŸå€¼ å‡å€¼å¯¹è±¡12345var a = new Boolean( false );var b = new Number( 0 );var c = new String( \"\" );var d = Boolean( a &amp;&amp; b &amp;&amp; c );d; // true è¯´æ˜ a ã€ b ã€ c éƒ½ä¸º true è™½ç„¶ JavaScript ä»£ç ä¸­ä¼šå‡ºç°å‡å€¼å¯¹è±¡ï¼Œä½†å®ƒå®é™…ä¸Šå¹¶ä¸å±äº JavaScript è¯­è¨€çš„èŒƒç•´ã€‚æµè§ˆå™¨åœ¨æŸäº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œåœ¨å¸¸è§„ JavaScript è¯­æ³•åŸºç¡€ä¸Šè‡ªå·±åˆ›å»ºäº†ä¸€äº›å¤–æ¥å€¼ï¼Œè¿™äº›å°±æ˜¯ â€œ å‡å€¼å¯¹è±¡ â€ ã€‚å‡å€¼å¯¹è±¡çœ‹èµ·æ¥å’Œæ™®é€šå¯¹è±¡å¹¶æ— äºŒè‡´ï¼ˆéƒ½æœ‰å±æ€§ï¼Œç­‰ç­‰ï¼‰ï¼Œä½†å°†å®ƒä»¬å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼æ—¶ç»“æœä¸º false ã€‚æœ€å¸¸è§çš„ä¾‹å­æ˜¯ document.all ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼ŒåŒ…å«äº†é¡µé¢ä¸Šçš„æ‰€æœ‰å…ƒç´ ï¼Œç”± DOM ï¼ˆè€Œä¸æ˜¯ JavaScript å¼•æ“ï¼‰æä¾›ç»™ JavaScript ç¨‹åºä½¿ç”¨ã€‚å®ƒä»¥å‰æ›¾æ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„å¯¹è±¡ï¼Œå¸ƒå°”å¼ºåˆ¶ç±»å‹è½¬æ¢ç»“æœä¸º true ï¼Œä¸è¿‡ç°åœ¨å®ƒæ˜¯ä¸€ä¸ªå‡å€¼å¯¹è±¡ã€‚document.all å¹¶ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†ç”¨æ³•ï¼Œæ—©å°±è¢«åºŸæ­¢äº†ã€‚ å¥‡ç‰¹çš„ ~ è¿ç®—ç¬¦ ç±»å‹è½¬æ¢å®ƒé¦–å…ˆå°†å€¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º 32 ä½æ•°å­—ï¼Œç„¶åæ‰§è¡Œå­—ä½æ“ä½œ â€œ é â€ ï¼ˆå¯¹æ¯ä¸€ä¸ªå­—ä½è¿›è¡Œåè½¬ï¼‰ã€‚è¿™ä¸ ! å¾ˆç›¸åƒï¼Œä¸ä»…å°†å€¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ &lt; ï¼Œè¿˜å¯¹å…¶åšå­—ä½åè½¬ã€‚å¯¹ ~ è¿˜å¯ä»¥æœ‰å¦å¤–ä¸€ç§è¯ é‡Šï¼Œæºè‡ªæ—©æœŸçš„è®¡ç®—æœºç§‘å­¦å’Œç¦»æ•£æ•°å­¦ï¼š ~ è¿”å› 2 çš„è¡¥ç ã€‚~x å¤§è‡´ç­‰åŒäº -(x+1) ã€‚~ å’Œ indexOf() ä¸€èµ·å¯ä»¥å°†ç»“æœå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆå®é™…ä¸Šä»…ä»…æ˜¯è½¬æ¢ï¼‰ä¸ºçœŸ / å‡å€¼ï¼š 12345678910var a = \"Hello World\";~a.indexOf( \"lo\" ); // -4 &lt;-- çœŸå€¼ !if (~a.indexOf( \"lo\" )) &#123; // true// æ‰¾åˆ°åŒ¹é…ï¼&#125;~a.indexOf( \"ol\" ); // 0 &lt;-- å‡å€¼ !!~a.indexOf( \"ol\" ); // trueif (!~a.indexOf( \"ol\" )) &#123; // true// æ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼&#125; å¦‚æœ indexOf(..) è¿”å› -1 ï¼Œ ~ å°†å…¶è½¬æ¢ä¸ºå‡å€¼ 0 ï¼Œå…¶ä»–æƒ…å†µä¸€å¾‹è½¬æ¢ä¸ºçœŸå€¼ã€‚ å­—ä½æˆªé™¤ä½¿ç”¨ ~ æ¥æˆªé™¤æ•°å­—å€¼çš„å°æ•°éƒ¨åˆ†ï¼Œä»¥ä¸ºè¿™å’Œ Math.floor(..) çš„æ•ˆæœä¸€æ ·ï¼Œå®é™…ä¸Šå¹¶éå¦‚æ­¤ã€‚ ä¸­çš„ç¬¬ä¸€ä¸ª ~ æ‰§è¡Œ ToInt32 å¹¶åè½¬å­—ä½ï¼Œç„¶åç¬¬äºŒä¸ª ~ å†è¿›è¡Œä¸€æ¬¡å­—ä½åè½¬ï¼Œå³å°†æ‰€æœ‰å­—ä½åè½¬å›åŸå€¼ï¼Œæœ€åå¾—åˆ°çš„ä»ç„¶æ˜¯ ToInt32 çš„ç»“æœã€‚~~ å’Œ !! å¾ˆç›¸ä¼¼ï¼Œå®ƒåªé€‚ç”¨äº 32 ä½æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¯¹è´Ÿæ•°çš„å¤„ç†ä¸ Math.floor(..) ä¸åŒã€‚ 12Math.floor( -49.6 ); // -50~~-49.6; // -49 x èƒ½å°†å€¼æˆªé™¤ä¸ºä¸€ä¸ª 32 ä½æ•´æ•°ï¼Œ x | 0 ä¹Ÿå¯ä»¥ï¼Œè€Œä¸”çœ‹èµ·æ¥è¿˜æ›´ç®€æ´ã€‚å‡ºäºå¯¹è¿ç®—ç¬¦ä¼˜å…ˆçº§çš„è€ƒè™‘ï¼Œæˆ‘ä»¬å¯èƒ½æ›´å€¾å‘äºä½¿ç”¨ ~x ã€‚ == å’Œ ===å¸¸è§çš„è¯¯åŒºæ˜¯ï¼šâ€œ == æ£€æŸ¥å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ === æ£€æŸ¥å€¼å’Œç±»å‹æ˜¯å¦ç›¸ç­‰ â€ ã€‚å¬èµ·æ¥è›®æœ‰é“ç†ï¼Œç„¶è€Œè¿˜ä¸å¤Ÿå‡†ç¡®ã€‚æ­£ç¡®çš„è§£é‡Šæ˜¯ï¼šâ€œ == å…è®¸åœ¨ç›¸ç­‰æ¯”è¾ƒä¸­è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œ === ä¸å…è®¸ã€‚â€ä¸¤ç§è§£é‡Šçš„åŒºåˆ«ï¼šæ ¹æ®ç¬¬ä¸€ç§è§£é‡Šï¼ˆä¸å‡†ç¡®çš„ç‰ˆæœ¬ï¼‰ï¼Œ === ä¼¼ä¹æ¯” == åšçš„äº‹æƒ…æ›´å¤šï¼Œå› ä¸ºå®ƒè¿˜è¦æ£€æŸ¥å€¼çš„ç±»å‹ã€‚ç¬¬äºŒç§è§£é‡Šä¸­ == çš„å·¥ä½œé‡æ›´å¤§ä¸€äº›ï¼Œå› ä¸ºå¦‚æœå€¼çš„ç±»å‹ä¸åŒè¿˜éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚æœ‰äººè§‰å¾— == ä¼šæ¯” === æ…¢ï¼Œå®é™…ä¸Šè™½ç„¶å¼ºåˆ¶ç±»å‹è½¬æ¢ç¡®å®è¦å¤šèŠ±ç‚¹æ—¶é—´ï¼Œä½†ä»…ä»…æ˜¯å¾®ç§’çº§ï¼ˆç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’ï¼‰çš„å·®åˆ«è€Œå·²ã€‚å¦‚æœè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªå€¼ç±»å‹ç›¸åŒï¼Œåˆ™ == å’Œ === ä½¿ç”¨ç›¸åŒçš„ç®—æ³•ï¼Œæ‰€ä»¥é™¤äº† JavaScript å¼•æ“å®ç°ä¸Šçš„ç»†å¾®å·®åˆ«ä¹‹å¤–ï¼Œå®ƒä»¬ä¹‹é—´å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚== å’Œ === éƒ½ä¼šæ£€æŸ¥æ“ä½œæ•°çš„ç±»å‹ã€‚åŒºåˆ«åœ¨äºæ“ä½œæ•°ç±»å‹ä¸åŒæ—¶å®ƒä»¬çš„å¤„ç†æ–¹å¼ä¸åŒã€‚ æŠ½è±¡å…³ç³»æ¯”è¾ƒ a &lt; båˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆååŠéƒ¨åˆ†ï¼‰å’Œå…¶ä»–æƒ…å†µï¼ˆå‰åŠéƒ¨åˆ†ï¼‰ã€‚æ¯”è¾ƒåŒæ–¹é¦–å…ˆè°ƒç”¨ ToPrimitive ï¼Œå¦‚æœç»“æœå‡ºç°éå­—ç¬¦ä¸²ï¼Œå°±æ ¹æ® ToNumber è§„åˆ™å°†åŒæ–¹å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—æ¥è¿›è¡Œæ¯”è¾ƒã€‚ 1234var a = [ 42 ];var b = [ \"43\" ];a &lt; b; // trueb &lt; a; // false -0 å’Œ NaN çš„ç›¸å…³è§„åˆ™åœ¨è¿™é‡Œä¹Ÿé€‚ç”¨ã€‚å¦‚æœæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰å­—æ¯é¡ºåºæ¥è¿›è¡Œæ¯”è¾ƒ 123456789101112131415161718192021var a = [ \"42\" ];var b = [ \"043\" ];a &lt; b; // falsevar a = [ 4, 2 ];var b = [ 0, 4, 3 ];a &lt; b; // falsevar a = &#123; b: 42 &#125;;var b = &#123; b: 43 &#125;;a &lt; b; // ??// ç»“æœè¿˜æ˜¯ false ï¼Œå› ä¸º a æ˜¯ [object Object] ï¼Œb ä¹Ÿæ˜¯ [object Object]ï¼Œæ‰€ä»¥æŒ‰ç…§å­—æ¯é¡ºåº a &lt; b å¹¶ä¸æˆç«‹ã€‚// ä¸‹é¢çš„ä¾‹å­å°±æœ‰äº›å¥‡æ€ªäº†:var a = &#123; b: 42 &#125;;var b = &#123; b: 43 &#125;;a &lt; b; // falsea == b; // falsea &gt; b; // falsea &lt;= b; // truea &gt;= b; // true å› ä¸ºæ ¹æ®è§„èŒƒ a &lt;= b è¢«å¤„ç†ä¸º b &lt; a ï¼Œç„¶åå°†ç»“æœåè½¬ã€‚å› ä¸º b &lt; a çš„ç»“æœæ˜¯ false ï¼Œæ‰€ä»¥ a &lt;= b çš„ç»“æœæ˜¯ trueã€‚å®é™…ä¸Š JavaScript ä¸­ &lt;= æ˜¯ â€œ ä¸å¤§äº â€ çš„æ„æ€ï¼ˆå³ !(a &gt; b) ï¼Œå¤„ç†ä¸º !(b &lt; a) ï¼‰ã€‚åŒç† a &gt;= b å¤„ç†ä¸º b &lt;= a ã€‚ toString12345[] + &#123;&#125;; // \"[object Object]\"&#123;&#125; + []; // 0[null].toString() // \"\"[undefined].toString() // \"\"[null, undefined].toString() // \",\" ç¬¬ä¸€è¡Œä»£ç ä¸­ï¼Œ {} å‡ºç°åœ¨ + è¿ç®—ç¬¦è¡¨è¾¾å¼ä¸­ï¼Œå› æ­¤å®ƒè¢«å½“ä½œä¸€ä¸ªå€¼ï¼ˆç©ºå¯¹è±¡ï¼‰æ¥å¤„ç†ã€‚ [] ä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º â€œâ€ ï¼Œè€Œ {} ä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º â€œ[object Object]â€ ã€‚ä½†åœ¨ç¬¬äºŒè¡Œä»£ç ä¸­ï¼Œ {} è¢«å½“ä½œä¸€ä¸ªç‹¬ç«‹çš„ç©ºä»£ç å—ï¼ˆä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰ã€‚ä»£ç å—ç»“å°¾ä¸éœ€è¦åˆ†å·ï¼Œæ‰€ä»¥è¿™é‡Œä¸å­˜åœ¨è¯­æ³•ä¸Šçš„é—®é¢˜ã€‚æœ€å + [] å°† [] æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º 0 ã€‚ æ„é€ å‡½æ•°123456var Person = function(name) &#123; this.name = name;&#125;;// å®ä¾‹åŒ–ä¸€ä¸ªPersonvar alice = new Person('alice');// ä¸è¦è¿™ä¹ˆåš!Person('bob'); //=&gt; undefined è¿™ä¸ªå‡½æ•°åªä¼šè¿”å› undefinedï¼Œå¹¶ä¸”æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ window(å…¨å±€)å¯¹è±¡ï¼Œä½ æ— æ„é—´åˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å˜é‡ nameã€‚è°ƒç”¨æ„é€ å‡½æ•°æ—¶ä¸è¦ä¸¢æ‰ new å…³é”®å­—ã€‚å½“ä½¿ç”¨ new å…³é”®å­—æ¥è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä»å…¨å±€å¯¹è±¡(window)å˜æˆä¸€ä¸ªç©ºçš„ ä¸Šä¸‹æ–‡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡ä»£è¡¨äº†æ–°ç”Ÿæˆçš„å®ä¾‹ã€‚å› æ­¤ï¼Œthis å…³é”®å­—æŒ‡å‘å½“å‰åˆ›å»ºçš„å®ä¾‹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çš„æ„é€ å‡½æ•°ä¸­æ²¡æœ‰è¿”å›ä»»ä½•å†…å®¹ï¼Œå°±ä¼šè¿”å› thisâ€”â€”å½“å‰çš„ä¸Šä¸‹æ–‡ã€‚ è¦ä¸ç„¶å°±è¿”å›ä»»æ„éåŸå§‹ç±»å‹çš„å€¼ã€‚ bind å®ç°12345678910Function.prototype.bind = Function.prototype.bind || function (obj) &#123; var slice = [].slice, args = slice.call(arguments, 1), self = this, nop = function () &#123;&#125;, bound = function () &#123; return self.apply( this instanceof nop ? this : (obj || &#123;&#125;), args.concat(slice.call(arguments))); &#125;; nop.prototype = self.prototype; bound.prototype = new nop(); return bound; &#125;; Object.create() å®ç°12345Object.create = Object.create || function(o) &#123; function F() &#123;&#125;; F.prototype = o; return new F();&#125;;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/å‰ç«¯/"}],"tags":[]}]}